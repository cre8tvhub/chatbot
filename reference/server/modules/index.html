<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/server/modules" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">mongodb-chatbot-server | MongoDB Chatbot Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mongodb.github.io/chatbot/reference/server/modules"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="mongodb-chatbot-server | MongoDB Chatbot Framework"><meta data-rh="true" name="description" content="Interfaces"><meta data-rh="true" property="og:description" content="Interfaces"><link data-rh="true" rel="canonical" href="https://mongodb.github.io/chatbot/reference/server/modules"><link data-rh="true" rel="alternate" href="https://mongodb.github.io/chatbot/reference/server/modules" hreflang="en"><link data-rh="true" rel="alternate" href="https://mongodb.github.io/chatbot/reference/server/modules" hreflang="x-default"><link rel="stylesheet" href="/chatbot/assets/css/styles.d95408d0.css">
<script src="/chatbot/assets/js/runtime~main.b73331fc.js" defer="defer"></script>
<script src="/chatbot/assets/js/main.2f39ec8a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chatbot/"><b class="navbar__title text--truncate">MongoDB Chatbot Framework</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mongodb/chatbot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/mongodb">MongoDB &amp; Atlas Vector Search</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/chatbot/ingest/configure">Data Ingest CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/chatbot/server/configure">Chatbot Server</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/ui">Chatbot UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/chatbot/evaluation/">Evaluation CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/chatbot/reference/">API Reference</a><button aria-label="Collapse sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/chatbot/reference/server/">mongodb-chatbot-server</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/chatbot/reference/server/">Readme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/chatbot/reference/server/modules">Exports</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/server/interfaces/AppConfig">Interfaces</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/core/">mongodb-rag-core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/ingest/">mongodb-rag-ingest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/evaluation/">mongodb-chatbot-evaluation</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/chatbot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/chatbot/reference/"><span itemprop="name">API Reference</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">mongodb-chatbot-server</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Exports</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>mongodb-chatbot-server</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interfaces">Interfaces<a href="#interfaces" class="hash-link" aria-label="Direct link to Interfaces" title="Direct link to Interfaces">​</a></h2>
<ul>
<li><a href="/chatbot/reference/server/interfaces/AppConfig">AppConfig</a></li>
<li><a href="/chatbot/reference/server/interfaces/AzureOpenAiServiceConfig">AzureOpenAiServiceConfig</a></li>
<li><a href="/chatbot/reference/server/interfaces/CallToolResponse">CallToolResponse</a></li>
<li><a href="/chatbot/reference/server/interfaces/ChatLlm">ChatLlm</a></li>
<li><a href="/chatbot/reference/server/interfaces/CommentMessageParams">CommentMessageParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/Conversation">Conversation</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationConstants">ConversationConstants</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsRateLimitConfig">ConversationsRateLimitConfig</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals">ConversationsRouterLocals</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsRouterParams">ConversationsRouterParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsService">ConversationsService</a></li>
<li><a href="/chatbot/reference/server/interfaces/DataStreamer">DataStreamer</a></li>
<li><a href="/chatbot/reference/server/interfaces/EmbeddedContent">EmbeddedContent</a></li>
<li><a href="/chatbot/reference/server/interfaces/FindByIdParams">FindByIdParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue">GenerateUserPromptFuncReturnValue</a></li>
<li><a href="/chatbot/reference/server/interfaces/LlmAnswerQuestionParams">LlmAnswerQuestionParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/LlmCallToolParams">LlmCallToolParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeLangchainChatLlmProps">MakeLangchainChatLlmProps</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeOpenAiChatLlmParams">MakeOpenAiChatLlmParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeRagGenerateUserPromptParams">MakeRagGenerateUserPromptParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeUserMessageFuncParams">MakeUserMessageFuncParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeVerifiedAnswerGenerateUserPromptParams">MakeVerifiedAnswerGenerateUserPromptParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/RateMessageParams">RateMessageParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/SearchBooster">SearchBooster</a></li>
<li><a href="/chatbot/reference/server/interfaces/Tool">Tool</a></li>
<li><a href="/chatbot/reference/server/interfaces/ToolCallParams">ToolCallParams</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="type-aliases">Type Aliases<a href="#type-aliases" class="hash-link" aria-label="Direct link to Type Aliases" title="Direct link to Type Aliases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addassistantmessageparams">AddAssistantMessageParams<a href="#addassistantmessageparams" class="hash-link" aria-label="Direct link to AddAssistantMessageParams" title="Direct link to AddAssistantMessageParams">​</a></h3>
<p>Ƭ <strong>AddAssistantMessageParams</strong>: <code>Omit</code>&lt;<a href="/chatbot/reference/server/modules#assistantmessage"><code>AssistantMessage</code></a>, <code>&quot;id&quot;</code> | <code>&quot;createdAt&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in">Defined in<a href="#defined-in" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L184" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:184</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addconversationmessageparams">AddConversationMessageParams<a href="#addconversationmessageparams" class="hash-link" aria-label="Direct link to AddConversationMessageParams" title="Direct link to AddConversationMessageParams">​</a></h3>
<p>Ƭ <strong>AddConversationMessageParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration">Type declaration<a href="#type-declaration" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversationId</code></td><td style="text-align:left"><code>ObjectId</code></td></tr><tr><td style="text-align:left"><code>message</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#addsomemessageparams"><code>AddSomeMessageParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-1">Defined in<a href="#defined-in-1" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L195" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:195</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addcustomdatafunc">AddCustomDataFunc<a href="#addcustomdatafunc" class="hash-link" aria-label="Direct link to AddCustomDataFunc" title="Direct link to AddCustomDataFunc">​</a></h3>
<p>Ƭ <strong>AddCustomDataFunc</strong>: (<code>request</code>: <code>Request</code>, <code>response</code>: <a href="/chatbot/reference/server/modules#conversationsrouterresponse"><code>ConversationsRouterResponse</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-1">Type declaration<a href="#type-declaration-1" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>request</code>, <code>response</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</p>
<p>Function to add custom data to the <a href="/chatbot/reference/server/interfaces/Conversation">Conversation</a> persisted to the database.
Has access to the Express.js request and response plus the <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals">ConversationsRouterLocals</a>
from the Response.locals object.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>request</code></td><td style="text-align:left"><code>Request</code></td></tr><tr><td style="text-align:left"><code>response</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#conversationsrouterresponse"><code>ConversationsRouterResponse</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns">Returns<a href="#returns" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-2">Defined in<a href="#defined-in-2" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L69" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:69</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addfunctionmessageparams">AddFunctionMessageParams<a href="#addfunctionmessageparams" class="hash-link" aria-label="Direct link to AddFunctionMessageParams" title="Direct link to AddFunctionMessageParams">​</a></h3>
<p>Ƭ <strong>AddFunctionMessageParams</strong>: <code>Omit</code>&lt;<a href="/chatbot/reference/server/modules#functionmessage"><code>FunctionMessage</code></a>, <code>&quot;id&quot;</code> | <code>&quot;createdAt&quot;</code>&gt; &amp; { <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-3">Defined in<a href="#defined-in-3" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L177" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:177</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addmanyconversationmessagesparams">AddManyConversationMessagesParams<a href="#addmanyconversationmessagesparams" class="hash-link" aria-label="Direct link to AddManyConversationMessagesParams" title="Direct link to AddManyConversationMessagesParams">​</a></h3>
<p>Ƭ <strong>AddManyConversationMessagesParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-2">Type declaration<a href="#type-declaration-2" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversationId</code></td><td style="text-align:left"><code>ObjectId</code></td></tr><tr><td style="text-align:left"><code>messages</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#addsomemessageparams"><code>AddSomeMessageParams</code></a>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-4">Defined in<a href="#defined-in-4" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L200" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:200</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addsomemessageparams">AddSomeMessageParams<a href="#addsomemessageparams" class="hash-link" aria-label="Direct link to AddSomeMessageParams" title="Direct link to AddSomeMessageParams">​</a></h3>
<p>Ƭ <strong>AddSomeMessageParams</strong>: <a href="/chatbot/reference/server/modules#addsystemmessageparams"><code>AddSystemMessageParams</code></a> | <a href="/chatbot/reference/server/modules#addusermessageparams"><code>AddUserMessageParams</code></a> | <a href="/chatbot/reference/server/modules#addassistantmessageparams"><code>AddAssistantMessageParams</code></a> | <a href="/chatbot/reference/server/modules#addfunctionmessageparams"><code>AddFunctionMessageParams</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-5">Defined in<a href="#defined-in-5" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L189" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:189</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addsystemmessageparams">AddSystemMessageParams<a href="#addsystemmessageparams" class="hash-link" aria-label="Direct link to AddSystemMessageParams" title="Direct link to AddSystemMessageParams">​</a></h3>
<p>Ƭ <strong>AddSystemMessageParams</strong>: <code>Omit</code>&lt;<a href="/chatbot/reference/server/modules#systemmessage"><code>SystemMessage</code></a>, <code>&quot;id&quot;</code> | <code>&quot;createdAt&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-6">Defined in<a href="#defined-in-6" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L171" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:171</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addusermessageparams">AddUserMessageParams<a href="#addusermessageparams" class="hash-link" aria-label="Direct link to AddUserMessageParams" title="Direct link to AddUserMessageParams">​</a></h3>
<p>Ƭ <strong>AddUserMessageParams</strong>: <code>Omit</code>&lt;<a href="/chatbot/reference/server/modules#usermessage"><code>UserMessage</code></a>, <code>&quot;id&quot;</code> | <code>&quot;createdAt&quot;</code>&gt; &amp; { <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-7">Defined in<a href="#defined-in-7" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L173" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:173</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assistantmessage">AssistantMessage<a href="#assistantmessage" class="hash-link" aria-label="Direct link to AssistantMessage" title="Direct link to AssistantMessage">​</a></h3>
<p>Ƭ <strong>AssistantMessage</strong>: <a href="/chatbot/reference/server/modules#messagebase"><code>MessageBase</code></a> &amp; { <code>functionCall?</code>: <code>FunctionCall</code> ; <code>metadata?</code>: <a href="/chatbot/reference/server/modules#assistantmessagemetadata"><code>AssistantMessageMetadata</code></a> ; <code>rating?</code>: <code>boolean</code> ; <code>references?</code>: <code>any</code>[] ; <code>role</code>: <code>&quot;assistant&quot;</code> ; <code>userComment?</code>: <code>string</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-8">Defined in<a href="#defined-in-8" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L37" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:37</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assistantmessagemetadata">AssistantMessageMetadata<a href="#assistantmessagemetadata" class="hash-link" aria-label="Direct link to AssistantMessageMetadata" title="Direct link to AssistantMessageMetadata">​</a></h3>
<p>Ƭ <strong>AssistantMessageMetadata</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="index-signature">Index signature<a href="#index-signature" class="hash-link" aria-label="Direct link to Index signature" title="Direct link to Index signature">​</a></h4>
<p>▪ [k: <code>string</code>]: <code>unknown</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-3">Type declaration<a href="#type-declaration-3" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>verifiedAnswer?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#verifiedanswereventdata"><code>VerifiedAnswerEventData</code></a></td><td style="text-align:left">If the message came from the verified answers collection, contains the metadata about the verified answer.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-9">Defined in<a href="#defined-in-9" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L64" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:64</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationcustomdata">ConversationCustomData<a href="#conversationcustomdata" class="hash-link" aria-label="Direct link to ConversationCustomData" title="Direct link to ConversationCustomData">​</a></h3>
<p>Ƭ <strong>ConversationCustomData</strong>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; | <code>undefined</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-10">Defined in<a href="#defined-in-10" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L144" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:144</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationsmiddleware">ConversationsMiddleware<a href="#conversationsmiddleware" class="hash-link" aria-label="Direct link to ConversationsMiddleware" title="Direct link to ConversationsMiddleware">​</a></h3>
<p>Ƭ <strong>ConversationsMiddleware</strong>: <code>RequestHandler</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>any</code>, <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals"><code>ConversationsRouterLocals</code></a>&gt;</p>
<p>Middleware to put in front of all the routes in the conversationsRouter.
This middleware is useful for things like authentication, data validation, etc.
It exposes the app&#x27;s <a href="/chatbot/reference/server/interfaces/ConversationsService">ConversationsService</a>.
It also lets you access <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals">ConversationsRouterLocals</a> via Response.locals
(<a href="https://expressjs.com/en/api.html#res.locals" target="_blank" rel="noopener noreferrer">docs</a>).
You can use the locals in other middleware or persist when you create the conversation
with the <code>POST /conversations</code> endpoint with the <a href="/chatbot/reference/server/modules#addcustomdatafunc">AddCustomDataFunc</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-11">Defined in<a href="#defined-in-11" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L102" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:102</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationsrouterresponse">ConversationsRouterResponse<a href="#conversationsrouterresponse" class="hash-link" aria-label="Direct link to ConversationsRouterResponse" title="Direct link to ConversationsRouterResponse">​</a></h3>
<p>Ƭ <strong>ConversationsRouterResponse</strong>: <code>Response</code>&lt;<code>any</code>, <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals"><code>ConversationsRouterLocals</code></a>&gt;</p>
<p>Express.js Response from the app&#x27;s <a href="/chatbot/reference/server/interfaces/ConversationsService">ConversationsService</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-12">Defined in<a href="#defined-in-12" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L87" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:87</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createconversationparams">CreateConversationParams<a href="#createconversationparams" class="hash-link" aria-label="Direct link to CreateConversationParams" title="Direct link to CreateConversationParams">​</a></h3>
<p>Ƭ <strong>CreateConversationParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-4">Type declaration<a href="#type-declaration-4" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>customData?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#conversationcustomdata"><code>ConversationCustomData</code></a></td></tr><tr><td style="text-align:left"><code>initialMessages?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#somemessage"><code>SomeMessage</code></a>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-13">Defined in<a href="#defined-in-13" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L166" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:166</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="databaseconnection">DatabaseConnection<a href="#databaseconnection" class="hash-link" aria-label="Direct link to DatabaseConnection" title="Direct link to DatabaseConnection">​</a></h3>
<p>Ƭ <strong>DatabaseConnection</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-5">Type declaration<a href="#type-declaration-5" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>close</code></td><td style="text-align:left">(<code>force?</code>: <code>boolean</code>) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr><tr><td style="text-align:left"><code>drop</code></td><td style="text-align:left">() =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-14">Defined in<a href="#defined-in-14" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DatabaseConnection.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deltastreamevent">DeltaStreamEvent<a href="#deltastreamevent" class="hash-link" aria-label="Direct link to DeltaStreamEvent" title="Direct link to DeltaStreamEvent">​</a></h3>
<p>Ƭ <strong>DeltaStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;delta&quot;</code>  }</p>
<p>Event when server streams additional message response to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-15">Defined in<a href="#defined-in-15" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L54" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:54</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedargs">EmbedArgs<a href="#embedargs" class="hash-link" aria-label="Direct link to EmbedArgs" title="Direct link to EmbedArgs">​</a></h3>
<p>Ƭ <strong>EmbedArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-6">Type declaration<a href="#type-declaration-6" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>text</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The text to embed.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-16">Defined in<a href="#defined-in-16" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Embedder.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedresult">EmbedResult<a href="#embedresult" class="hash-link" aria-label="Direct link to EmbedResult" title="Direct link to EmbedResult">​</a></h3>
<p>Ƭ <strong>EmbedResult</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-7">Type declaration<a href="#type-declaration-7" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>embedding</code></td><td style="text-align:left"><code>number</code>[]</td><td style="text-align:left">Vector embedding of the text.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-17">Defined in<a href="#defined-in-17" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Embedder.d.ts:7</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embeddedcontentstore">EmbeddedContentStore<a href="#embeddedcontentstore" class="hash-link" aria-label="Direct link to EmbeddedContentStore" title="Direct link to EmbeddedContentStore">​</a></h3>
<p>Ƭ <strong>EmbeddedContentStore</strong>: <a href="/chatbot/reference/server/modules#vectorstore"><code>VectorStore</code></a>&lt;<a href="/chatbot/reference/server/interfaces/EmbeddedContent.md"><code>EmbeddedContent</code></a>&gt; &amp; { <code>close?</code>: () =&gt; <code>Promise</code>&lt;<code>void</code>&gt; ; <code>deleteEmbeddedContent</code>: (<code>args</code>: { <code>page</code>: <a href="/chatbot/reference/server/modules#page"><code>Page</code></a>  }) =&gt; <code>Promise</code>&lt;<code>void</code>&gt; ; <code>loadEmbeddedContent</code>: (<code>args</code>: { <code>page</code>: <a href="/chatbot/reference/server/modules#page"><code>Page</code></a>  }) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]&gt; ; <code>updateEmbeddedContent</code>: (<code>args</code>: { <code>embeddedContent</code>: <a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[] ; <code>page</code>: <a href="/chatbot/reference/server/modules#page"><code>Page</code></a>  }) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;  }</p>
<p>Data store of the embedded content.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-18">Defined in<a href="#defined-in-18" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/EmbeddedContent.d.ts:53</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedder">Embedder<a href="#embedder" class="hash-link" aria-label="Direct link to Embedder" title="Direct link to Embedder">​</a></h3>
<p>Ƭ <strong>Embedder</strong>: <code>Object</code></p>
<p>Takes a string of text and returns an array of numbers representing the
vector embedding of the text.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-8">Type declaration<a href="#type-declaration-8" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>embed</code></td><td style="text-align:left">(<code>args</code>: <a href="/chatbot/reference/server/modules#embedargs"><code>EmbedArgs</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#embedresult"><code>EmbedResult</code></a>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-19">Defined in<a href="#defined-in-19" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Embedder.d.ts:17</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filterpreviousmessages">FilterPreviousMessages<a href="#filterpreviousmessages" class="hash-link" aria-label="Direct link to FilterPreviousMessages" title="Direct link to FilterPreviousMessages">​</a></h3>
<p>Ƭ <strong>FilterPreviousMessages</strong>: (<code>conversation</code>: <a href="/chatbot/reference/server/interfaces/Conversation"><code>Conversation</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#message"><code>Message</code></a>[]&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-9">Type declaration<a href="#type-declaration-9" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>conversation</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#message"><code>Message</code></a>[]&gt;</p>
<p>Filters which previous conversation messages are sent to the LLM
along with the user prompt.
For example, you may only want to send the system prompt to the LLM
with the user message or the system prompt and X prior messages.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-1">Parameters<a href="#parameters-1" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversation"><code>Conversation</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-1">Returns<a href="#returns-1" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#message"><code>Message</code></a>[]&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-20">Defined in<a href="#defined-in-20" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findcontentfunc">FindContentFunc<a href="#findcontentfunc" class="hash-link" aria-label="Direct link to FindContentFunc" title="Direct link to FindContentFunc">​</a></h3>
<p>Ƭ <strong>FindContentFunc</strong>: (<code>args</code>: <a href="/chatbot/reference/server/modules#findcontentfuncargs"><code>FindContentFuncArgs</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#findcontentresult"><code>FindContentResult</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-10">Type declaration<a href="#type-declaration-10" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>args</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#findcontentresult"><code>FindContentResult</code></a>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-2">Parameters<a href="#parameters-2" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>args</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#findcontentfuncargs"><code>FindContentFuncArgs</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-2">Returns<a href="#returns-2" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#findcontentresult"><code>FindContentResult</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-21">Defined in<a href="#defined-in-21" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FindContentFunc.ts#L7" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FindContentFunc.ts:7</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findcontentfuncargs">FindContentFuncArgs<a href="#findcontentfuncargs" class="hash-link" aria-label="Direct link to FindContentFuncArgs" title="Direct link to FindContentFuncArgs">​</a></h3>
<p>Ƭ <strong>FindContentFuncArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-11">Type declaration<a href="#type-declaration-11" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>query</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-22">Defined in<a href="#defined-in-22" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FindContentFunc.ts#L3" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FindContentFunc.ts:3</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findcontentresult">FindContentResult<a href="#findcontentresult" class="hash-link" aria-label="Direct link to FindContentResult" title="Direct link to FindContentResult">​</a></h3>
<p>Ƭ <strong>FindContentResult</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-12">Type declaration<a href="#type-declaration-12" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>content</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<a href="/chatbot/reference/server/interfaces/EmbeddedContent.md"><code>EmbeddedContent</code></a>&gt;[]</td></tr><tr><td style="text-align:left"><code>queryEmbedding</code></td><td style="text-align:left"><code>number</code>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-23">Defined in<a href="#defined-in-23" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FindContentFunc.ts#L11" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FindContentFunc.ts:11</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findnearestneighborsoptions">FindNearestNeighborsOptions<a href="#findnearestneighborsoptions" class="hash-link" aria-label="Direct link to FindNearestNeighborsOptions" title="Direct link to FindNearestNeighborsOptions">​</a></h3>
<p>Ƭ <strong>FindNearestNeighborsOptions</strong>: <code>Object</code></p>
<p>Options for performing a nearest-neighbor search.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-13">Type declaration<a href="#type-declaration-13" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>filter</code></td><td style="text-align:left"><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td style="text-align:left">Search filter expression.</td></tr><tr><td style="text-align:left"><code>indexName</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The name of the index to use.</td></tr><tr><td style="text-align:left"><code>k</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">The number of nearest neighbors to return.</td></tr><tr><td style="text-align:left"><code>minScore</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">The minimum nearest-neighbor score threshold between 0-1.</td></tr><tr><td style="text-align:left"><code>numCandidates</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">Number of nearest neighbors to use during the search. Value must be less than or equal to 10000. You can&#x27;t specify a number less than the number of documents to return (k).</td></tr><tr><td style="text-align:left"><code>path</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The keypath to the field with the vector data to use.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-24">Defined in<a href="#defined-in-24" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VectorStore.d.ts:17</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findverifiedanswerfunc">FindVerifiedAnswerFunc<a href="#findverifiedanswerfunc" class="hash-link" aria-label="Direct link to FindVerifiedAnswerFunc" title="Direct link to FindVerifiedAnswerFunc">​</a></h3>
<p>Ƭ <strong>FindVerifiedAnswerFunc</strong>: (<code>args</code>: <a href="/chatbot/reference/server/modules#findverifiedanswerfuncargs"><code>FindVerifiedAnswerFuncArgs</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#findverifiedanswerresult"><code>FindVerifiedAnswerResult</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-14">Type declaration<a href="#type-declaration-14" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>args</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#findverifiedanswerresult"><code>FindVerifiedAnswerResult</code></a>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-3">Parameters<a href="#parameters-3" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>args</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#findverifiedanswerfuncargs"><code>FindVerifiedAnswerFuncArgs</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-3">Returns<a href="#returns-3" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#findverifiedanswerresult"><code>FindVerifiedAnswerResult</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-25">Defined in<a href="#defined-in-25" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FindVerifiedAnswerFunc.ts#L7" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FindVerifiedAnswerFunc.ts:7</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findverifiedanswerfuncargs">FindVerifiedAnswerFuncArgs<a href="#findverifiedanswerfuncargs" class="hash-link" aria-label="Direct link to FindVerifiedAnswerFuncArgs" title="Direct link to FindVerifiedAnswerFuncArgs">​</a></h3>
<p>Ƭ <strong>FindVerifiedAnswerFuncArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-15">Type declaration<a href="#type-declaration-15" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>query</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-26">Defined in<a href="#defined-in-26" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FindVerifiedAnswerFunc.ts#L3" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FindVerifiedAnswerFunc.ts:3</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findverifiedanswerresult">FindVerifiedAnswerResult<a href="#findverifiedanswerresult" class="hash-link" aria-label="Direct link to FindVerifiedAnswerResult" title="Direct link to FindVerifiedAnswerResult">​</a></h3>
<p>Ƭ <strong>FindVerifiedAnswerResult</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-16">Type declaration<a href="#type-declaration-16" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>answer?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<a href="/chatbot/reference/server/modules.md#verifiedanswer-1"><code>VerifiedAnswer</code></a>&gt;</td></tr><tr><td style="text-align:left"><code>queryEmbedding</code></td><td style="text-align:left"><code>number</code>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-27">Defined in<a href="#defined-in-27" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FindVerifiedAnswerFunc.ts#L11" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FindVerifiedAnswerFunc.ts:11</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="finishedstreamevent">FinishedStreamEvent<a href="#finishedstreamevent" class="hash-link" aria-label="Direct link to FinishedStreamEvent" title="Direct link to FinishedStreamEvent">​</a></h3>
<p>Ƭ <strong>FinishedStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;finished&quot;</code>  }</p>
<p>Event denoting the end of streaming.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-28">Defined in<a href="#defined-in-28" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L87" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:87</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functionmessage">FunctionMessage<a href="#functionmessage" class="hash-link" aria-label="Direct link to FunctionMessage" title="Direct link to FunctionMessage">​</a></h3>
<p>Ƭ <strong>FunctionMessage</strong>: <a href="/chatbot/reference/server/modules#messagebase"><code>MessageBase</code></a> &amp; { <code>name</code>: <code>string</code> ; <code>role</code>: <code>&quot;function&quot;</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-29">Defined in<a href="#defined-in-29" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L79" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:79</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generateuserpromptfunc">GenerateUserPromptFunc<a href="#generateuserpromptfunc" class="hash-link" aria-label="Direct link to GenerateUserPromptFunc" title="Direct link to GenerateUserPromptFunc">​</a></h3>
<p>Ƭ <strong>GenerateUserPromptFunc</strong>: (<code>params</code>: <a href="/chatbot/reference/server/modules#generateuserpromptfuncparams"><code>GenerateUserPromptFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue"><code>GenerateUserPromptFuncReturnValue</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-17">Type declaration<a href="#type-declaration-17" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue"><code>GenerateUserPromptFuncReturnValue</code></a>&gt;</p>
<p>Generate the user prompt sent to the <a href="/chatbot/reference/server/interfaces/ChatLlm">ChatLlm</a>.
This function is a flexible construct that you can use to customize
the chatbot behavior. For example, you can use this function to
perform retrieval augmented generation (RAG) or chain of thought prompting.
Include whatever logic in here to construct the user message
that the LLM responds to.</p>
<p>If you are doing RAG, this can include the content from vector search.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-4">Parameters<a href="#parameters-4" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#generateuserpromptfuncparams"><code>GenerateUserPromptFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-4">Returns<a href="#returns-4" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue"><code>GenerateUserPromptFuncReturnValue</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-30">Defined in<a href="#defined-in-30" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts#L66" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts:66</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generateuserpromptfuncparams">GenerateUserPromptFuncParams<a href="#generateuserpromptfuncparams" class="hash-link" aria-label="Direct link to GenerateUserPromptFuncParams" title="Direct link to GenerateUserPromptFuncParams">​</a></h3>
<p>Ƭ <strong>GenerateUserPromptFuncParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-18">Type declaration<a href="#type-declaration-18" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversation"><code>Conversation</code></a></td><td style="text-align:left">Conversation with preceding messages</td></tr><tr><td style="text-align:left"><code>customData?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#conversationcustomdata"><code>ConversationCustomData</code></a></td><td style="text-align:left">Custom data for the message request.</td></tr><tr><td style="text-align:left"><code>reqId</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">String Id for request</td></tr><tr><td style="text-align:left"><code>userMessageText</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Original user message</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-31">Defined in<a href="#defined-in-31" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="loadpagesargs">LoadPagesArgs<a href="#loadpagesargs" class="hash-link" aria-label="Direct link to LoadPagesArgs" title="Direct link to LoadPagesArgs">​</a></h3>
<p>Ƭ <strong>LoadPagesArgs</strong>&lt;<code>QueryShape</code>&gt;: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters">Type parameters<a href="#type-parameters" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>QueryShape</code></td><td style="text-align:left"><code>unknown</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-19">Type declaration<a href="#type-declaration-19" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>query?</code></td><td style="text-align:left"><code>QueryShape</code></td><td style="text-align:left">A custom query to refine the pages to load.</td></tr><tr><td style="text-align:left"><code>sources?</code></td><td style="text-align:left"><code>string</code>[]</td><td style="text-align:left">The names of the sources to load pages from. If undefined, loads available pages from all sources.</td></tr><tr><td style="text-align:left"><code>updated?</code></td><td style="text-align:left"><code>Date</code></td><td style="text-align:left">If specified, refines the query to load pages with an updated date later or equal to the given date.</td></tr><tr><td style="text-align:left"><code>urls?</code></td><td style="text-align:left"><code>string</code>[]</td><td style="text-align:left">If specified, refines the query to only load pages where the url is included in the list.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-32">Defined in<a href="#defined-in-32" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Page.d.ts:50</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindcontentfuncargs">MakeDefaultFindContentFuncArgs<a href="#makedefaultfindcontentfuncargs" class="hash-link" aria-label="Direct link to MakeDefaultFindContentFuncArgs" title="Direct link to MakeDefaultFindContentFuncArgs">​</a></h3>
<p>Ƭ <strong>MakeDefaultFindContentFuncArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-20">Type declaration<a href="#type-declaration-20" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>embedder</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#embedder"><code>Embedder</code></a></td></tr><tr><td style="text-align:left"><code>findNearestNeighborsOptions?</code></td><td style="text-align:left"><code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#findnearestneighborsoptions"><code>FindNearestNeighborsOptions</code></a>&gt;</td></tr><tr><td style="text-align:left"><code>searchBoosters?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/SearchBooster"><code>SearchBooster</code></a>[]</td></tr><tr><td style="text-align:left"><code>store</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#embeddedcontentstore"><code>EmbeddedContentStore</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-33">Defined in<a href="#defined-in-33" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeDefaultFindContent.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeDefaultFindContent.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindverifiedanswerfuncargs">MakeDefaultFindVerifiedAnswerFuncArgs<a href="#makedefaultfindverifiedanswerfuncargs" class="hash-link" aria-label="Direct link to MakeDefaultFindVerifiedAnswerFuncArgs" title="Direct link to MakeDefaultFindVerifiedAnswerFuncArgs">​</a></h3>
<p>Ƭ <strong>MakeDefaultFindVerifiedAnswerFuncArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-21">Type declaration<a href="#type-declaration-21" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>embedder</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#embedder"><code>Embedder</code></a></td></tr><tr><td style="text-align:left"><code>findNearestNeighborsOptions?</code></td><td style="text-align:left"><code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#findnearestneighborsoptions"><code>FindNearestNeighborsOptions</code></a>&gt;</td></tr><tr><td style="text-align:left"><code>store</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#verifiedanswerstore"><code>VerifiedAnswerStore</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-34">Defined in<a href="#defined-in-34" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeDefaultFindVerifiedAnswer.ts#L8" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeDefaultFindVerifiedAnswer.ts:8</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainembedderparams">MakeLangChainEmbedderParams<a href="#makelangchainembedderparams" class="hash-link" aria-label="Direct link to MakeLangChainEmbedderParams" title="Direct link to MakeLangChainEmbedderParams">​</a></h3>
<p>Ƭ <strong>MakeLangChainEmbedderParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-22">Type declaration<a href="#type-declaration-22" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>langChainEmbeddings</code></td><td style="text-align:left"><code>Embeddings</code></td><td style="text-align:left">LangChain.js <code>Embeddings</code> instance. You can configure things like caching and retry behavior in the <code>Embeddings</code> instance.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-35">Defined in<a href="#defined-in-35" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/LangChainEmbedder.d.ts:3</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaiembedderargs">MakeOpenAiEmbedderArgs<a href="#makeopenaiembedderargs" class="hash-link" aria-label="Direct link to MakeOpenAiEmbedderArgs" title="Direct link to MakeOpenAiEmbedderArgs">​</a></h3>
<p>Ƭ <strong>MakeOpenAiEmbedderArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-23">Type declaration<a href="#type-declaration-23" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>backoffOptions?</code></td><td style="text-align:left"><code>BackoffOptions</code></td><td style="text-align:left">Options used for automatic retry (usually due to rate limiting).</td></tr><tr><td style="text-align:left"><code>deployment</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The deployment key.</td></tr><tr><td style="text-align:left"><code>openAiClient</code></td><td style="text-align:left"><code>OpenAIClient</code></td><td style="text-align:left">The OpenAI client.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-36">Defined in<a href="#defined-in-36" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/OpenAiEmbedder.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makereferencelinksfunc">MakeReferenceLinksFunc<a href="#makereferencelinksfunc" class="hash-link" aria-label="Direct link to MakeReferenceLinksFunc" title="Direct link to MakeReferenceLinksFunc">​</a></h3>
<p>Ƭ <strong>MakeReferenceLinksFunc</strong>: (<code>chunks</code>: <a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]) =&gt; <code>any</code>[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-24">Type declaration<a href="#type-declaration-24" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>chunks</code>): <code>any</code>[]</p>
<p>Function that generates the references in the response to user.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-5">Parameters<a href="#parameters-5" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>chunks</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-5">Returns<a href="#returns-5" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>any</code>[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-37">Defined in<a href="#defined-in-37" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maketypechatjsontranslatefuncargs">MakeTypeChatJsonTranslateFuncArgs<a href="#maketypechatjsontranslatefuncargs" class="hash-link" aria-label="Direct link to MakeTypeChatJsonTranslateFuncArgs" title="Direct link to MakeTypeChatJsonTranslateFuncArgs">​</a></h3>
<p>Ƭ <strong>MakeTypeChatJsonTranslateFuncArgs</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-25">Type declaration<a href="#type-declaration-25" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>azureOpenAiServiceConfig</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/AzureOpenAiServiceConfig"><code>AzureOpenAiServiceConfig</code></a></td><td style="text-align:left">Settings for using the Azure service.</td></tr><tr><td style="text-align:left"><code>numRetries?</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">Number of times to retry the query preprocessor if it fails.</td></tr><tr><td style="text-align:left"><code>retryDelayMs?</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">Delay between retries in milliseconds.</td></tr><tr><td style="text-align:left"><code>schema</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The text of a .d.ts that would inform the schema.</td></tr><tr><td style="text-align:left"><code>schemaName</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The name of the TypeChat schema or interface.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-38">Defined in<a href="#defined-in-38" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/TypeChatJsonTranslateFunc.d.ts:7</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeusermessagefunc">MakeUserMessageFunc<a href="#makeusermessagefunc" class="hash-link" aria-label="Direct link to MakeUserMessageFunc" title="Direct link to MakeUserMessageFunc">​</a></h3>
<p>Ƭ <strong>MakeUserMessageFunc</strong>: (<code>params</code>: <a href="/chatbot/reference/server/interfaces/MakeUserMessageFuncParams"><code>MakeUserMessageFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#usermessage"><code>UserMessage</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-26">Type declaration<a href="#type-declaration-26" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#usermessage"><code>UserMessage</code></a>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-6">Parameters<a href="#parameters-6" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeUserMessageFuncParams"><code>MakeUserMessageFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-6">Returns<a href="#returns-6" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#usermessage"><code>UserMessage</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-39">Defined in<a href="#defined-in-39" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts#L48" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts:48</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="message">Message<a href="#message" class="hash-link" aria-label="Direct link to Message" title="Direct link to Message">​</a></h3>
<p>Ƭ <strong>Message</strong>: <a href="/chatbot/reference/server/modules#somemessage"><code>SomeMessage</code></a> &amp; { <code>createdAt</code>: <code>Date</code> ; <code>id</code>: <code>ObjectId</code>  }</p>
<p>Message stored in the database.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-40">Defined in<a href="#defined-in-40" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L132" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:132</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="messagebase">MessageBase<a href="#messagebase" class="hash-link" aria-label="Direct link to MessageBase" title="Direct link to MessageBase">​</a></h3>
<p>Ƭ <strong>MessageBase</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-27">Type declaration<a href="#type-declaration-27" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>content</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Message that occurs in the conversation.</td></tr><tr><td style="text-align:left"><code>customData?</code></td><td style="text-align:left"><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td style="text-align:left">Custom data received from the client to include in the Message persisted to the database.</td></tr><tr><td style="text-align:left"><code>metadata?</code></td><td style="text-align:left"><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td style="text-align:left">Arbitrary data about the message that should be sent to the client.</td></tr><tr><td style="text-align:left"><code>role</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The role of the message in the conversation.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-41">Defined in<a href="#defined-in-41" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L10" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:10</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadatastreamevent">MetadataStreamEvent<a href="#metadatastreamevent" class="hash-link" aria-label="Direct link to MetadataStreamEvent" title="Direct link to MetadataStreamEvent">​</a></h3>
<p>Ƭ <strong>MetadataStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>type</code>: <code>&quot;metadata&quot;</code>  }</p>
<p>Event when server streams a metadata object to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-42">Defined in<a href="#defined-in-42" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L79" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:79</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodbpagestore">MongoDbPageStore<a href="#mongodbpagestore" class="hash-link" aria-label="Direct link to MongoDbPageStore" title="Direct link to MongoDbPageStore">​</a></h3>
<p>Ƭ <strong>MongoDbPageStore</strong>: <a href="/chatbot/reference/server/modules#databaseconnection"><code>DatabaseConnection</code></a> &amp; <code>Omit</code>&lt;<a href="/chatbot/reference/server/modules#pagestore"><code>PageStore</code></a>, <code>&quot;loadPages&quot;</code>&gt; &amp; { <code>queryType</code>: <code>&quot;mongodb&quot;</code> ; <code>loadPages</code>: (<code>args?</code>: <a href="/chatbot/reference/server/modules#loadpagesargs"><code>LoadPagesArgs</code></a>&lt;<code>Filter</code>&lt;<a href="/chatbot/reference/server/modules.md#persistedpage"><code>PersistedPage</code></a>&gt;&gt;) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#persistedpage"><code>PersistedPage</code></a>[]&gt;  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-43">Defined in<a href="#defined-in-43" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/MongoDbPageStore.d.ts:5</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaichatcompletionwithoutusage">OpenAIChatCompletionWithoutUsage<a href="#openaichatcompletionwithoutusage" class="hash-link" aria-label="Direct link to OpenAIChatCompletionWithoutUsage" title="Direct link to OpenAIChatCompletionWithoutUsage">​</a></h3>
<p>Ƭ <strong>OpenAIChatCompletionWithoutUsage</strong>: <code>Omit</code>&lt;<code>ChatCompletions</code>, <code>&quot;usage&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-44">Defined in<a href="#defined-in-44" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L85" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:85</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaiawaitedresponse">OpenAiAwaitedResponse<a href="#openaiawaitedresponse" class="hash-link" aria-label="Direct link to OpenAiAwaitedResponse" title="Direct link to OpenAiAwaitedResponse">​</a></h3>
<p>Ƭ <strong>OpenAiAwaitedResponse</strong>: <code>ChatRequestAssistantMessage</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-45">Defined in<a href="#defined-in-45" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L89" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:89</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaichatmessage">OpenAiChatMessage<a href="#openaichatmessage" class="hash-link" aria-label="Direct link to OpenAiChatMessage" title="Direct link to OpenAiChatMessage">​</a></h3>
<p>Ƭ <strong>OpenAiChatMessage</strong>: <code>ChatRequestMessage</code> &amp; { <code>content</code>: <code>string</code> | <code>null</code> ; <code>embedding?</code>: <code>number</code>[] ; <code>role</code>: <a href="/chatbot/reference/server/modules#openaimessagerole"><code>OpenAiMessageRole</code></a>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-46">Defined in<a href="#defined-in-46" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L21" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:21</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaimessagerole">OpenAiMessageRole<a href="#openaimessagerole" class="hash-link" aria-label="Direct link to OpenAiMessageRole" title="Direct link to OpenAiMessageRole">​</a></h3>
<p>Ƭ <strong>OpenAiMessageRole</strong>: <code>&quot;system&quot;</code> | <code>&quot;assistant&quot;</code> | <code>&quot;user&quot;</code> | <code>&quot;function&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-47">Defined in<a href="#defined-in-47" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L19" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:19</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaistreamingresponse">OpenAiStreamingResponse<a href="#openaistreamingresponse" class="hash-link" aria-label="Direct link to OpenAiStreamingResponse" title="Direct link to OpenAiStreamingResponse">​</a></h3>
<p>Ƭ <strong>OpenAiStreamingResponse</strong>: <code>AsyncIterable</code>&lt;<a href="/chatbot/reference/server/modules#openaichatcompletionwithoutusage"><code>OpenAIChatCompletionWithoutUsage</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-48">Defined in<a href="#defined-in-48" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L87" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:87</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="page">Page<a href="#page" class="hash-link" aria-label="Direct link to Page" title="Direct link to Page">​</a></h3>
<p>Ƭ <strong>Page</strong>: <code>Object</code></p>
<p>Represents a page from a data source.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-28">Type declaration<a href="#type-declaration-28" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>body</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The text of the page.</td></tr><tr><td style="text-align:left"><code>format</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#pageformat"><code>PageFormat</code></a></td><td style="text-align:left">The file format of the page. This format determines how the page should be chunked and vector-embedded.</td></tr><tr><td style="text-align:left"><code>metadata?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#pagemetadata"><code>PageMetadata</code></a></td><td style="text-align:left">Arbitrary metadata for page.</td></tr><tr><td style="text-align:left"><code>sourceName</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Data source name.</td></tr><tr><td style="text-align:left"><code>title?</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">A human-readable title.</td></tr><tr><td style="text-align:left"><code>url</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">-</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-49">Defined in<a href="#defined-in-49" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Page.d.ts:5</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageaction">PageAction<a href="#pageaction" class="hash-link" aria-label="Direct link to PageAction" title="Direct link to PageAction">​</a></h3>
<p>Ƭ <strong>PageAction</strong>: <code>&quot;created&quot;</code> | <code>&quot;updated&quot;</code> | <code>&quot;deleted&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-50">Defined in<a href="#defined-in-50" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Page.d.ts:36</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformat">PageFormat<a href="#pageformat" class="hash-link" aria-label="Direct link to PageFormat" title="Direct link to PageFormat">​</a></h3>
<p>Ƭ <strong>PageFormat</strong>: typeof <a href="/chatbot/reference/server/modules#pageformats"><code>pageFormats</code></a>[<code>number</code>]</p>
<p>A canonical page format.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-51">Defined in<a href="#defined-in-51" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/PageFormat.d.ts:15</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pagemetadata">PageMetadata<a href="#pagemetadata" class="hash-link" aria-label="Direct link to PageMetadata" title="Direct link to PageMetadata">​</a></h3>
<p>Ƭ <strong>PageMetadata</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="index-signature-1">Index signature<a href="#index-signature-1" class="hash-link" aria-label="Direct link to Index signature" title="Direct link to Index signature">​</a></h4>
<p>▪ [k: <code>string</code>]: <code>unknown</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-29">Type declaration<a href="#type-declaration-29" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>tags?</code></td><td style="text-align:left"><code>string</code>[]</td><td style="text-align:left">Arbitrary tags.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-52">Defined in<a href="#defined-in-52" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Page.d.ts:29</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pagestore">PageStore<a href="#pagestore" class="hash-link" aria-label="Direct link to PageStore" title="Direct link to PageStore">​</a></h3>
<p>Ƭ <strong>PageStore</strong>: <code>Object</code></p>
<p>Data store for <a href="/chatbot/reference/server/modules#page">Page</a> objects.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-30">Type declaration<a href="#type-declaration-30" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>close?</code></td><td style="text-align:left">() =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td><td style="text-align:left">Close connection to data store.</td></tr><tr><td style="text-align:left"><code>queryType?</code></td><td style="text-align:left"><code>&quot;mongodb&quot;</code> | <code>string</code></td><td style="text-align:left">The format that the store uses for custom queries. If not specified, the store does not allow custom queries.</td></tr><tr><td style="text-align:left"><code>loadPages</code></td><td style="text-align:left">(<code>args?</code>: <a href="/chatbot/reference/server/modules#loadpagesargs"><code>LoadPagesArgs</code></a>&lt;<code>unknown</code>&gt;) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#persistedpage"><code>PersistedPage</code></a>[]&gt;</td><td style="text-align:left">Loads pages from the Page store.</td></tr><tr><td style="text-align:left"><code>updatePages</code></td><td style="text-align:left">(<code>pages</code>: <a href="/chatbot/reference/server/modules#persistedpage"><code>PersistedPage</code></a>[]) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td><td style="text-align:left">Updates or adds the given pages in the store.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-53">Defined in<a href="#defined-in-53" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Page.d.ts:74</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistedpage">PersistedPage<a href="#persistedpage" class="hash-link" aria-label="Direct link to PersistedPage" title="Direct link to PersistedPage">​</a></h3>
<p>Ƭ <strong>PersistedPage</strong>: <a href="/chatbot/reference/server/modules#page"><code>Page</code></a> &amp; { <code>action</code>: <a href="/chatbot/reference/server/modules#pageaction"><code>PageAction</code></a> ; <code>updated</code>: <code>Date</code>  }</p>
<p>Represents a <a href="/chatbot/reference/server/modules#page">Page</a> stored in the database.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-54">Defined in<a href="#defined-in-54" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/Page.d.ts:40</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processingstreamevent">ProcessingStreamEvent<a href="#processingstreamevent" class="hash-link" aria-label="Direct link to ProcessingStreamEvent" title="Direct link to ProcessingStreamEvent">​</a></h3>
<p>Ƭ <strong>ProcessingStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;processing&quot;</code>  }</p>
<p>Event for when the server is processing a request.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-55">Defined in<a href="#defined-in-55" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L59" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:59</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="querypreprocessorfunc">QueryPreprocessorFunc<a href="#querypreprocessorfunc" class="hash-link" aria-label="Direct link to QueryPreprocessorFunc" title="Direct link to QueryPreprocessorFunc">​</a></h3>
<p>Ƭ <strong>QueryPreprocessorFunc</strong>&lt;<code>ReturnType</code>&gt;: (<code>params</code>: <a href="/chatbot/reference/server/modules#queryprocessorfuncparams"><code>QueryProcessorFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<code>ReturnType</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-1">Type parameters<a href="#type-parameters-1" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>ReturnType</code></td><td style="text-align:left">extends <a href="/chatbot/reference/server/modules#querypreprocessorresult"><code>QueryPreprocessorResult</code></a> = <a href="/chatbot/reference/server/modules#querypreprocessorresult"><code>QueryPreprocessorResult</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-31">Type declaration<a href="#type-declaration-31" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<code>ReturnType</code>&gt;</p>
<p>Query preprocessors transform an input query to a new query based on your
business logic.</p>
<p>If the preprocessor can&#x27;t transform the query, it may return undefined. The
preprocessor may also suggest not answering with the rejectQuery field in the
return value (for example, if the query disparages your company, you might
want to send a canned response).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-7">Parameters<a href="#parameters-7" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#queryprocessorfuncparams"><code>QueryProcessorFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-7">Returns<a href="#returns-7" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<code>ReturnType</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-56">Defined in<a href="#defined-in-56" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts#L17" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts:17</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="querypreprocessorresult">QueryPreprocessorResult<a href="#querypreprocessorresult" class="hash-link" aria-label="Direct link to QueryPreprocessorResult" title="Direct link to QueryPreprocessorResult">​</a></h3>
<p>Ƭ <strong>QueryPreprocessorResult</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-32">Type declaration<a href="#type-declaration-32" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>query?</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>rejectQuery?</code></td><td style="text-align:left"><code>boolean</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-57">Defined in<a href="#defined-in-57" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts#L21" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts:21</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="queryprocessorfuncparams">QueryProcessorFuncParams<a href="#queryprocessorfuncparams" class="hash-link" aria-label="Direct link to QueryProcessorFuncParams" title="Direct link to QueryProcessorFuncParams">​</a></h3>
<p>Ƭ <strong>QueryProcessorFuncParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-33">Type declaration<a href="#type-declaration-33" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>messages?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#message"><code>Message</code></a>[]</td></tr><tr><td style="text-align:left"><code>query</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-58">Defined in<a href="#defined-in-58" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts#L3" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts:3</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="question">Question<a href="#question" class="hash-link" aria-label="Direct link to Question" title="Direct link to Question">​</a></h3>
<p>Ƭ <strong>Question</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#question-1"><code>Question</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-59">Defined in<a href="#defined-in-59" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:3</p>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:19</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Direct link to Reference" title="Direct link to Reference">​</a></h3>
<p>Ƭ <strong>Reference</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#reference-1"><code>Reference</code></a>&gt;</p>
<p>A formatted reference for an assistant message.</p>
<p>For example, a Reference might be a docs page, dev center article, or
a MongoDB University module.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-60">Defined in<a href="#defined-in-60" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:8</p>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:9</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h3>
<p>Ƭ <strong>References</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#references-1"><code>References</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-61">Defined in<a href="#defined-in-61" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:19</p>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:20</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="referencesstreamevent">ReferencesStreamEvent<a href="#referencesstreamevent" class="hash-link" aria-label="Direct link to ReferencesStreamEvent" title="Direct link to ReferencesStreamEvent">​</a></h3>
<p>Ƭ <strong>ReferencesStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>any</code>[] ; <code>type</code>: <code>&quot;references&quot;</code>  }</p>
<p>Event when server streams single <a href="/chatbot/reference/server/modules#references-1">References</a> object to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-62">Defined in<a href="#defined-in-62" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L71" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:71</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="somemessage">SomeMessage<a href="#somemessage" class="hash-link" aria-label="Direct link to SomeMessage" title="Direct link to SomeMessage">​</a></h3>
<p>Ƭ <strong>SomeMessage</strong>: <a href="/chatbot/reference/server/modules#usermessage"><code>UserMessage</code></a> | <a href="/chatbot/reference/server/modules#assistantmessage"><code>AssistantMessage</code></a> | <a href="/chatbot/reference/server/modules#systemmessage"><code>SystemMessage</code></a> | <a href="/chatbot/reference/server/modules#functionmessage"><code>FunctionMessage</code></a></p>
<p>Message in the <a href="/chatbot/reference/server/interfaces/Conversation">Conversation</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-63">Defined in<a href="#defined-in-63" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L123" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:123</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="somestreamevent">SomeStreamEvent<a href="#somestreamevent" class="hash-link" aria-label="Direct link to SomeStreamEvent" title="Direct link to SomeStreamEvent">​</a></h3>
<p>Ƭ <strong>SomeStreamEvent</strong>: <a href="/chatbot/reference/server/modules#deltastreamevent"><code>DeltaStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#metadatastreamevent"><code>MetadataStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#processingstreamevent"><code>ProcessingStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#referencesstreamevent"><code>ReferencesStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#finishedstreamevent"><code>FinishedStreamEvent</code></a></p>
<p>The event types streamed from the chat server to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-64">Defined in<a href="#defined-in-64" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L95" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:95</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="systemmessage">SystemMessage<a href="#systemmessage" class="hash-link" aria-label="Direct link to SystemMessage" title="Direct link to SystemMessage">​</a></h3>
<p>Ƭ <strong>SystemMessage</strong>: <a href="/chatbot/reference/server/modules#messagebase"><code>MessageBase</code></a> &amp; { <code>role</code>: <code>&quot;system&quot;</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-65">Defined in<a href="#defined-in-65" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L33" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:33</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="systemprompt">SystemPrompt<a href="#systemprompt" class="hash-link" aria-label="Direct link to SystemPrompt" title="Direct link to SystemPrompt">​</a></h3>
<p>Ƭ <strong>SystemPrompt</strong>: <a href="/chatbot/reference/server/modules#openaichatmessage"><code>OpenAiChatMessage</code></a> &amp; { <code>content</code>: <code>string</code> ; <code>role</code>: <code>&quot;system&quot;</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-66">Defined in<a href="#defined-in-66" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L34" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:34</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="toolcalldirective">ToolCallDirective<a href="#toolcalldirective" class="hash-link" aria-label="Direct link to ToolCallDirective" title="Direct link to ToolCallDirective">​</a></h3>
<p>Ƭ <strong>ToolCallDirective</strong>: <code>FunctionCallPreset</code> | <code>FunctionName</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-67">Defined in<a href="#defined-in-67" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ChatLlm.ts#L110" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ChatLlm.ts:110</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usermessage">UserMessage<a href="#usermessage" class="hash-link" aria-label="Direct link to UserMessage" title="Direct link to UserMessage">​</a></h3>
<p>Ƭ <strong>UserMessage</strong>: <a href="/chatbot/reference/server/modules#messagebase"><code>MessageBase</code></a> &amp; { <code>contentForLlm?</code>: <code>string</code> ; <code>contextContent?</code>: <code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<a href="/chatbot/reference/server/interfaces/EmbeddedContent.md"><code>EmbeddedContent</code></a>&gt;&gt;[] ; <code>embedding?</code>: <code>number</code>[] ; <code>preprocessedContent?</code>: <code>string</code> ; <code>rejectQuery?</code>: <code>boolean</code> ; <code>role</code>: <code>&quot;user&quot;</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-68">Defined in<a href="#defined-in-68" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L84" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:84</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vectorstore">VectorStore<a href="#vectorstore" class="hash-link" aria-label="Direct link to VectorStore" title="Direct link to VectorStore">​</a></h3>
<p>Ƭ <strong>VectorStore</strong>&lt;<code>T</code>&gt;: <code>Object</code></p>
<p>Generic vector store for vector-searchable data.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-2">Type parameters<a href="#type-parameters-2" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-34">Type declaration<a href="#type-declaration-34" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>close?</code></td><td style="text-align:left">() =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr><tr><td style="text-align:left"><code>findNearestNeighbors</code></td><td style="text-align:left">(<code>vector</code>: <code>number</code>[], <code>options?</code>: <code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#findnearestneighborsoptions"><code>FindNearestNeighborsOptions</code></a>&gt;) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<code>T</code>&gt;[]&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-69">Defined in<a href="#defined-in-69" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VectorStore.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswer">VerifiedAnswer<a href="#verifiedanswer" class="hash-link" aria-label="Direct link to VerifiedAnswer" title="Direct link to VerifiedAnswer">​</a></h3>
<p>Ƭ <strong>VerifiedAnswer</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#verifiedanswer-1"><code>VerifiedAnswer</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-70">Defined in<a href="#defined-in-70" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:20</p>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:88</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswereventdata">VerifiedAnswerEventData<a href="#verifiedanswereventdata" class="hash-link" aria-label="Direct link to VerifiedAnswerEventData" title="Direct link to VerifiedAnswerEventData">​</a></h3>
<p>Ƭ <strong>VerifiedAnswerEventData</strong>: <code>Pick</code>&lt;<a href="/chatbot/reference/server/modules#verifiedanswer-1"><code>VerifiedAnswer</code></a>, <code>&quot;_id&quot;</code> | <code>&quot;created&quot;</code> | <code>&quot;updated&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-71">Defined in<a href="#defined-in-71" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L74" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:74</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswerstore">VerifiedAnswerStore<a href="#verifiedanswerstore" class="hash-link" aria-label="Direct link to VerifiedAnswerStore" title="Direct link to VerifiedAnswerStore">​</a></h3>
<p>Ƭ <strong>VerifiedAnswerStore</strong>: <a href="/chatbot/reference/server/modules#vectorstore"><code>VectorStore</code></a>&lt;<a href="/chatbot/reference/server/modules.md#verifiedanswer-1"><code>VerifiedAnswer</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-72">Defined in<a href="#defined-in-72" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:89</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="withfilterandk">WithFilterAndK<a href="#withfilterandk" class="hash-link" aria-label="Direct link to WithFilterAndK" title="Direct link to WithFilterAndK">​</a></h3>
<p>Ƭ <strong>WithFilterAndK</strong>&lt;<code>T</code>&gt;: <code>T</code> &amp; { <code>filter</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>k</code>: <code>number</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-3">Type parameters<a href="#type-parameters-3" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-73">Defined in<a href="#defined-in-73" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeBoostOnAtlasSearchFilter.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeBoostOnAtlasSearchFilter.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="withscore">WithScore<a href="#withscore" class="hash-link" aria-label="Direct link to WithScore" title="Direct link to WithScore">​</a></h3>
<p>Ƭ <strong>WithScore</strong>&lt;<code>T</code>&gt;: <code>T</code> &amp; { <code>score</code>: <code>number</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-4">Type parameters<a href="#type-parameters-4" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-74">Defined in<a href="#defined-in-74" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VectorStore.d.ts:11</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Direct link to Variables" title="Direct link to Variables">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_env_vars">CORE_ENV_VARS<a href="#core_env_vars" class="hash-link" aria-label="Direct link to CORE_ENV_VARS" title="Direct link to CORE_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-35">Type declaration<a href="#type-declaration-35" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>MONGODB_CONNECTION_URI</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>MONGODB_DATABASE_NAME</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>NODE_ENV</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_MODEL_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_EMBEDDING_MODEL</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_EMBEDDING_MODEL_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>VECTOR_SEARCH_INDEX_NAME</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-75">Defined in<a href="#defined-in-75" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom_request_origin_header">CUSTOM_REQUEST_ORIGIN_HEADER<a href="#custom_request_origin_header" class="hash-link" aria-label="Direct link to CUSTOM_REQUEST_ORIGIN_HEADER" title="Direct link to CUSTOM_REQUEST_ORIGIN_HEADER">​</a></h3>
<p>• <code>Const</code> <strong>CUSTOM_REQUEST_ORIGIN_HEADER</strong>: <code>&quot;X-Request-Origin&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-76">Defined in<a href="#defined-in-76" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts#L4" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts:4</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_api_prefix">DEFAULT_API_PREFIX<a href="#default_api_prefix" class="hash-link" aria-label="Direct link to DEFAULT_API_PREFIX" title="Direct link to DEFAULT_API_PREFIX">​</a></h3>
<p>• <code>Const</code> <strong>DEFAULT_API_PREFIX</strong>: <code>&quot;/api/v1&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-77">Defined in<a href="#defined-in-77" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/app.ts#L108" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:108</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_max_request_timeout_ms">DEFAULT_MAX_REQUEST_TIMEOUT_MS<a href="#default_max_request_timeout_ms" class="hash-link" aria-label="Direct link to DEFAULT_MAX_REQUEST_TIMEOUT_MS" title="Direct link to DEFAULT_MAX_REQUEST_TIMEOUT_MS">​</a></h3>
<p>• <code>Const</code> <strong>DEFAULT_MAX_REQUEST_TIMEOUT_MS</strong>: <code>60000</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-78">Defined in<a href="#defined-in-78" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/app.ts#L110" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:110</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="question-1">Question<a href="#question-1" class="hash-link" aria-label="Direct link to Question" title="Direct link to Question">​</a></h3>
<p>• <code>Const</code> <strong>Question</strong>: <code>z.ZodObject</code>&lt;{ <code>embedding</code>: <code>z.ZodArray</code>&lt;<code>z.ZodNumber</code>, <code>&quot;many&quot;</code>&gt; ; <code>embedding_model</code>: <code>z.ZodString</code> ; <code>embedding_model_version</code>: <code>z.ZodString</code> ; <code>text</code>: <code>z.ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>z.ZodTypeAny</code>, { <code>embedding</code>: <code>number</code>[] ; <code>embedding_model</code>: <code>string</code> ; <code>embedding_model_version</code>: <code>string</code> ; <code>text</code>: <code>string</code>  }, { <code>embedding</code>: <code>number</code>[] ; <code>embedding_model</code>: <code>string</code> ; <code>embedding_model_version</code>: <code>string</code> ; <code>text</code>: <code>string</code>  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-79">Defined in<a href="#defined-in-79" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:3</p>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:19</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-1">Reference<a href="#reference-1" class="hash-link" aria-label="Direct link to Reference" title="Direct link to Reference">​</a></h3>
<p>• <strong>Reference</strong>: <code>ZodObject</code>&lt;{ <code>title</code>: <code>ZodString</code> ; <code>url</code>: <code>ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }, { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-80">Defined in<a href="#defined-in-80" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:8</p>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:9</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="references-1">References<a href="#references-1" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h3>
<p>• <strong>References</strong>: <code>ZodArray</code>&lt;<code>ZodObject</code>&lt;{ <code>title</code>: <code>ZodString</code> ; <code>url</code>: <code>ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }, { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }&gt;, <code>&quot;many&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-81">Defined in<a href="#defined-in-81" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:19</p>
<p>packages/mongodb-rag-core/build/services/conversations.d.ts:20</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="someexpressrequest">SomeExpressRequest<a href="#someexpressrequest" class="hash-link" aria-label="Direct link to SomeExpressRequest" title="Direct link to SomeExpressRequest">​</a></h3>
<p>• <code>Const</code> <strong>SomeExpressRequest</strong>: <code>ZodObject</code>&lt;{ <code>body</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt; ; <code>headers</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt; ; <code>params</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt; ; <code>query</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt;  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>body?</code>: {} ; <code>headers?</code>: {} ; <code>params?</code>: {} ; <code>query?</code>: {}  }, { <code>body?</code>: {} ; <code>headers?</code>: {} ; <code>params?</code>: {} ; <code>query?</code>: {}  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-82">Defined in<a href="#defined-in-82" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/middleware/validateRequestSchema.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/validateRequestSchema.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswer-1">VerifiedAnswer<a href="#verifiedanswer-1" class="hash-link" aria-label="Direct link to VerifiedAnswer" title="Direct link to VerifiedAnswer">​</a></h3>
<p>• <code>Const</code> <strong>VerifiedAnswer</strong>: <code>z.ZodObject</code>&lt;{ <code>_id</code>: <code>z.ZodString</code> ; <code>answer</code>: <code>z.ZodString</code> ; <code>author_email</code>: <code>z.ZodString</code> ; <code>created</code>: <code>z.ZodDate</code> ; <code>hidden</code>: <code>z.ZodOptional</code>&lt;<code>z.ZodBoolean</code>&gt; ; <code>question</code>: <code>z.ZodObject</code>&lt;{ <code>embedding</code>: <code>z.ZodArray</code>&lt;<code>z.ZodNumber</code>, <code>&quot;many&quot;</code>&gt; ; <code>embedding_model</code>: <code>z.ZodString</code> ; <code>embedding_model_version</code>: <code>z.ZodString</code> ; <code>text</code>: <code>z.ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>z.ZodTypeAny</code>, { <code>embedding</code>: <code>number</code>[] ; <code>embedding_model</code>: <code>string</code> ; <code>embedding_model_version</code>: <code>string</code> ; <code>text</code>: <code>string</code>  }, { <code>embedding</code>: <code>number</code>[] ; <code>embedding_model</code>: <code>string</code> ; <code>embedding_model_version</code>: <code>string</code> ; <code>text</code>: <code>string</code>  }&gt; ; <code>references</code>: <code>z.ZodArray</code>&lt;<code>z.ZodObject</code>&lt;{ <code>title</code>: <code>z.ZodString</code> ; <code>url</code>: <code>z.ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>z.ZodTypeAny</code>, { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }, { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }&gt;, <code>&quot;many&quot;</code>&gt; ; <code>updated</code>: <code>z.ZodOptional</code>&lt;<code>z.ZodDate</code>&gt;  }, <code>&quot;strip&quot;</code>, <code>z.ZodTypeAny</code>, { <code>_id</code>: <code>string</code> ; <code>answer</code>: <code>string</code> ; <code>author_email</code>: <code>string</code> ; <code>created</code>: <code>Date</code> ; <code>hidden?</code>: <code>boolean</code> ; <code>question</code>: { <code>embedding</code>: <code>number</code>[] ; <code>embedding_model</code>: <code>string</code> ; <code>embedding_model_version</code>: <code>string</code> ; <code>text</code>: <code>string</code>  } ; <code>references</code>: { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[] ; <code>updated?</code>: <code>Date</code>  }, { <code>_id</code>: <code>string</code> ; <code>answer</code>: <code>string</code> ; <code>author_email</code>: <code>string</code> ; <code>created</code>: <code>Date</code> ; <code>hidden?</code>: <code>boolean</code> ; <code>question</code>: { <code>embedding</code>: <code>number</code>[] ; <code>embedding_model</code>: <code>string</code> ; <code>embedding_model_version</code>: <code>string</code> ; <code>text</code>: <code>string</code>  } ; <code>references</code>: { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[] ; <code>updated?</code>: <code>Date</code>  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-83">Defined in<a href="#defined-in-83" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:20</p>
<p>packages/mongodb-rag-core/build/VerifiedAnswer.d.ts:88</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defaultconversationconstants">defaultConversationConstants<a href="#defaultconversationconstants" class="hash-link" aria-label="Direct link to defaultConversationConstants" title="Direct link to defaultConversationConstants">​</a></h3>
<p>• <code>Const</code> <strong>defaultConversationConstants</strong>: <a href="/chatbot/reference/server/interfaces/ConversationConstants"><code>ConversationConstants</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-84">Defined in<a href="#defined-in-84" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/ConversationsService.ts#L277" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/ConversationsService.ts:277</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger">logger<a href="#logger" class="hash-link" aria-label="Direct link to logger" title="Direct link to logger">​</a></h3>
<p>• <code>Const</code> <strong>logger</strong>: <code>Logger</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-85">Defined in<a href="#defined-in-85" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/services/logger.d.ts:13</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformats">pageFormats<a href="#pageformats" class="hash-link" aria-label="Direct link to pageFormats" title="Direct link to pageFormats">​</a></h3>
<p>• <code>Const</code> <strong>pageFormats</strong>: (<code>&quot;txt&quot;</code> | <code>&quot;md&quot;</code> | <code>&quot;mdx&quot;</code> | <code>&quot;restructuredtext&quot;</code> | <code>&quot;csv&quot;</code> | <code>&quot;json&quot;</code> | <code>&quot;yaml&quot;</code> | <code>&quot;toml&quot;</code> | <code>&quot;xml&quot;</code> | <code>&quot;openapi-yaml&quot;</code> | <code>&quot;openapi-json&quot;</code> | <code>&quot;graphql&quot;</code> | <code>&quot;c&quot;</code> | <code>&quot;cpp&quot;</code> | <code>&quot;csharp&quot;</code> | <code>&quot;go&quot;</code> | <code>&quot;html&quot;</code> | <code>&quot;java&quot;</code> | <code>&quot;javascript&quot;</code> | <code>&quot;kotlin&quot;</code> | <code>&quot;latex&quot;</code> | <code>&quot;objective-c&quot;</code> | <code>&quot;php&quot;</code> | <code>&quot;python&quot;</code> | <code>&quot;ruby&quot;</code> | <code>&quot;rust&quot;</code> | <code>&quot;scala&quot;</code> | <code>&quot;shell&quot;</code> | <code>&quot;swift&quot;</code> | <code>&quot;typescript&quot;</code>)[]</p>
<p>The list of canonical file formats that we support for pages.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-86">Defined in<a href="#defined-in-86" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/PageFormat.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ratelimitresponse">rateLimitResponse<a href="#ratelimitresponse" class="hash-link" aria-label="Direct link to rateLimitResponse" title="Direct link to rateLimitResponse">​</a></h3>
<p>• <code>Const</code> <strong>rateLimitResponse</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-36">Type declaration<a href="#type-declaration-36" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>error</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-87">Defined in<a href="#defined-in-87" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L194" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:194</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aspageformat">asPageFormat<a href="#aspageformat" class="hash-link" aria-label="Direct link to asPageFormat" title="Direct link to asPageFormat">​</a></h3>
<p>▸ <strong>asPageFormat</strong>(<code>str</code>): <code>undefined</code> | <code>&quot;txt&quot;</code> | <code>&quot;md&quot;</code> | <code>&quot;mdx&quot;</code> | <code>&quot;restructuredtext&quot;</code> | <code>&quot;csv&quot;</code> | <code>&quot;json&quot;</code> | <code>&quot;yaml&quot;</code> | <code>&quot;toml&quot;</code> | <code>&quot;xml&quot;</code> | <code>&quot;openapi-yaml&quot;</code> | <code>&quot;openapi-json&quot;</code> | <code>&quot;graphql&quot;</code> | <code>&quot;c&quot;</code> | <code>&quot;cpp&quot;</code> | <code>&quot;csharp&quot;</code> | <code>&quot;go&quot;</code> | <code>&quot;html&quot;</code> | <code>&quot;java&quot;</code> | <code>&quot;javascript&quot;</code> | <code>&quot;kotlin&quot;</code> | <code>&quot;latex&quot;</code> | <code>&quot;objective-c&quot;</code> | <code>&quot;php&quot;</code> | <code>&quot;python&quot;</code> | <code>&quot;ruby&quot;</code> | <code>&quot;rust&quot;</code> | <code>&quot;scala&quot;</code> | <code>&quot;shell&quot;</code> | <code>&quot;swift&quot;</code> | <code>&quot;typescript&quot;</code></p>
<p>Maps a string to the canonical page format it represents.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-8">Parameters<a href="#parameters-8" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>str</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-8">Returns<a href="#returns-8" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>undefined</code> | <code>&quot;txt&quot;</code> | <code>&quot;md&quot;</code> | <code>&quot;mdx&quot;</code> | <code>&quot;restructuredtext&quot;</code> | <code>&quot;csv&quot;</code> | <code>&quot;json&quot;</code> | <code>&quot;yaml&quot;</code> | <code>&quot;toml&quot;</code> | <code>&quot;xml&quot;</code> | <code>&quot;openapi-yaml&quot;</code> | <code>&quot;openapi-json&quot;</code> | <code>&quot;graphql&quot;</code> | <code>&quot;c&quot;</code> | <code>&quot;cpp&quot;</code> | <code>&quot;csharp&quot;</code> | <code>&quot;go&quot;</code> | <code>&quot;html&quot;</code> | <code>&quot;java&quot;</code> | <code>&quot;javascript&quot;</code> | <code>&quot;kotlin&quot;</code> | <code>&quot;latex&quot;</code> | <code>&quot;objective-c&quot;</code> | <code>&quot;php&quot;</code> | <code>&quot;python&quot;</code> | <code>&quot;ruby&quot;</code> | <code>&quot;rust&quot;</code> | <code>&quot;scala&quot;</code> | <code>&quot;shell&quot;</code> | <code>&quot;swift&quot;</code> | <code>&quot;typescript&quot;</code></p>
<p>The canonical page format, or undefined if the string is not
a recognized page format.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-88">Defined in<a href="#defined-in-88" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/PageFormat.d.ts:11</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assertenvvars">assertEnvVars<a href="#assertenvvars" class="hash-link" aria-label="Direct link to assertEnvVars" title="Direct link to assertEnvVars">​</a></h3>
<p>▸ <strong>assertEnvVars</strong>&lt;<code>T</code>&gt;(<code>ENV_VARS</code>): <code>T</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-5">Type parameters<a href="#type-parameters-5" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td><td style="text-align:left">extends <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-9">Parameters<a href="#parameters-9" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>ENV_VARS</code></td><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-9">Returns<a href="#returns-9" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>T</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-89">Defined in<a href="#defined-in-89" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/assertEnvVars.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createloggermessage">createLoggerMessage<a href="#createloggermessage" class="hash-link" aria-label="Direct link to createLoggerMessage" title="Direct link to createLoggerMessage">​</a></h3>
<p>▸ <strong>createLoggerMessage</strong>(<code>«destructured»</code>): <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-10">Parameters<a href="#parameters-10" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>CreateMessageParams</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-10">Returns<a href="#returns-10" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Object</code></p>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>ipAddress</code></td><td style="text-align:left"><code>undefined</code> | <code>string</code></td></tr><tr><td style="text-align:left"><code>message</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>requestBody</code></td><td style="text-align:left"><code>unknown</code></td></tr><tr><td style="text-align:left"><code>requestId</code></td><td style="text-align:left"><code>undefined</code> | <code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-90">Defined in<a href="#defined-in-90" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/services/logger.d.ts:7</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createmessage">createMessage<a href="#createmessage" class="hash-link" aria-label="Direct link to createMessage" title="Direct link to createMessage">​</a></h3>
<p>▸ <strong>createMessage</strong>(<code>messageParams</code>): { <code>content</code>: <code>string</code> ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>role</code>: <code>&quot;system&quot;</code>  } | { <code>content</code>: <code>string</code> ; <code>contentForLlm?</code>: <code>string</code> ; <code>contextContent?</code>: <code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<a href="/chatbot/reference/server/interfaces/EmbeddedContent.md"><code>EmbeddedContent</code></a>&gt;&gt;[] ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>embedding?</code>: <code>number</code>[] ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>preprocessedContent?</code>: <code>string</code> ; <code>rejectQuery?</code>: <code>boolean</code> ; <code>role</code>: <code>&quot;user&quot;</code>  } | { <code>content</code>: <code>string</code> ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>name</code>: <code>string</code> ; <code>role</code>: <code>&quot;function&quot;</code>  } | { <code>content</code>: <code>string</code> ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>functionCall?</code>: <code>FunctionCall</code> ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; &amp; <a href="/chatbot/reference/server/modules#assistantmessagemetadata"><code>AssistantMessageMetadata</code></a> ; <code>rating?</code>: <code>boolean</code> ; <code>references?</code>: { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[] ; <code>role</code>: <code>&quot;assistant&quot;</code> ; <code>userComment?</code>: <code>string</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-11">Parameters<a href="#parameters-11" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>messageParams</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#addsomemessageparams"><code>AddSomeMessageParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-11">Returns<a href="#returns-11" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p>{ <code>content</code>: <code>string</code> ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>role</code>: <code>&quot;system&quot;</code>  } | { <code>content</code>: <code>string</code> ; <code>contentForLlm?</code>: <code>string</code> ; <code>contextContent?</code>: <code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<a href="/chatbot/reference/server/interfaces/EmbeddedContent.md"><code>EmbeddedContent</code></a>&gt;&gt;[] ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>embedding?</code>: <code>number</code>[] ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>preprocessedContent?</code>: <code>string</code> ; <code>rejectQuery?</code>: <code>boolean</code> ; <code>role</code>: <code>&quot;user&quot;</code>  } | { <code>content</code>: <code>string</code> ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>name</code>: <code>string</code> ; <code>role</code>: <code>&quot;function&quot;</code>  } | { <code>content</code>: <code>string</code> ; <code>createdAt</code>: <code>Date</code> ; <code>customData?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>functionCall?</code>: <code>FunctionCall</code> ; <code>id</code>: <code>ObjectId</code> ; <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; &amp; <a href="/chatbot/reference/server/modules#assistantmessagemetadata"><code>AssistantMessageMetadata</code></a> ; <code>rating?</code>: <code>boolean</code> ; <code>references?</code>: { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[] ; <code>role</code>: <code>&quot;assistant&quot;</code> ; <code>userComment?</code>: <code>string</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-91">Defined in<a href="#defined-in-91" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/mongodbConversations.ts#L166" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/mongodbConversations.ts:166</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createmessagefromopenaichatmessage">createMessageFromOpenAIChatMessage<a href="#createmessagefromopenaichatmessage" class="hash-link" aria-label="Direct link to createMessageFromOpenAIChatMessage" title="Direct link to createMessageFromOpenAIChatMessage">​</a></h3>
<p>▸ <strong>createMessageFromOpenAIChatMessage</strong>(<code>chatMessage</code>): <a href="/chatbot/reference/server/modules#message"><code>Message</code></a></p>
<p>Create a <a href="/chatbot/reference/server/modules#message">Message</a> object from the <a href="/chatbot/reference/server/modules#openaichatmessage">OpenAiChatMessage</a> object.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-12">Parameters<a href="#parameters-12" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>chatMessage</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#addsomemessageparams"><code>AddSomeMessageParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-12">Returns<a href="#returns-12" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#message"><code>Message</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-92">Defined in<a href="#defined-in-92" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/mongodbConversations.ts#L184" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/mongodbConversations.ts:184</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="errorhandler">errorHandler<a href="#errorhandler" class="hash-link" aria-label="Direct link to errorHandler" title="Direct link to errorHandler">​</a></h3>
<p>▸ <strong>errorHandler</strong>(<code>err</code>, <code>req</code>, <code>res</code>, <code>next</code>): <code>void</code></p>
<p>General error handler. Called at usage of <code>next()</code> in routes.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-13">Parameters<a href="#parameters-13" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>err</code></td><td style="text-align:left"><code>any</code></td></tr><tr><td style="text-align:left"><code>req</code></td><td style="text-align:left"><code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>res</code></td><td style="text-align:left"><code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;, <code>number</code>&gt;</td></tr><tr><td style="text-align:left"><code>next</code></td><td style="text-align:left"><code>NextFunction</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-13">Returns<a href="#returns-13" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-93">Defined in<a href="#defined-in-93" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>node_modules/@types/express-serve-static-core/index.d.ts:73</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="escapenewlines">escapeNewlines<a href="#escapenewlines" class="hash-link" aria-label="Direct link to escapeNewlines" title="Direct link to escapeNewlines">​</a></h3>
<p>▸ <strong>escapeNewlines</strong>(<code>str</code>): <code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-14">Parameters<a href="#parameters-14" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>str</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-14">Returns<a href="#returns-14" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-94">Defined in<a href="#defined-in-94" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L5" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:5</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extractfrontmatter">extractFrontMatter<a href="#extractfrontmatter" class="hash-link" aria-label="Direct link to extractFrontMatter" title="Direct link to extractFrontMatter">​</a></h3>
<p>▸ <strong>extractFrontMatter</strong>&lt;<code>T</code>&gt;(<code>text</code>, <code>language?</code>, <code>delimiter?</code>): <code>Object</code></p>
<p>This function extracts frontmatter from a string.
The generic type does not validate that the frontmatter
conforms to the type. It just provides the type
for developer convenience.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-6">Type parameters<a href="#type-parameters-6" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td><td style="text-align:left">extends <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-15">Parameters<a href="#parameters-15" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>text</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>language?</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>delimiter?</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-15">Returns<a href="#returns-15" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Object</code></p>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>body</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>metadata?</code></td><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-95">Defined in<a href="#defined-in-95" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/extractFrontMatter.d.ts:7</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filterdefined">filterDefined<a href="#filterdefined" class="hash-link" aria-label="Direct link to filterDefined" title="Direct link to filterDefined">​</a></h3>
<p>▸ <strong>filterDefined</strong>&lt;<code>T</code>&gt;(<code>array</code>): <code>Exclude</code>&lt;<code>T</code>, <code>undefined</code>&gt;[]</p>
<p>Given an array of possibly undefined T, return those that are defined.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-7">Type parameters<a href="#type-parameters-7" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-16">Parameters<a href="#parameters-16" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>array</code></td><td style="text-align:left"><code>T</code>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-16">Returns<a href="#returns-16" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Exclude</code>&lt;<code>T</code>, <code>undefined</code>&gt;[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-96">Defined in<a href="#defined-in-96" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/arrayFilters.d.ts:8</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filterfulfilled">filterFulfilled<a href="#filterfulfilled" class="hash-link" aria-label="Direct link to filterFulfilled" title="Direct link to filterFulfilled">​</a></h3>
<p>▸ <strong>filterFulfilled</strong>&lt;<code>T</code>&gt;(<code>array</code>): <code>PromiseFulfilledResult</code>&lt;<code>T</code>&gt;[]</p>
<p>Given an array of PromiseSettledResults, return those that are fulfilled as PromiseFulfilledResults.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-8">Type parameters<a href="#type-parameters-8" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-17">Parameters<a href="#parameters-17" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>array</code></td><td style="text-align:left"><code>PromiseSettledResult</code>&lt;<code>T</code>&gt;[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-17">Returns<a href="#returns-17" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>PromiseFulfilledResult</code>&lt;<code>T</code>&gt;[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-97">Defined in<a href="#defined-in-97" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/arrayFilters.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filteronlysystemprompt">filterOnlySystemPrompt<a href="#filteronlysystemprompt" class="hash-link" aria-label="Direct link to filterOnlySystemPrompt" title="Direct link to filterOnlySystemPrompt">​</a></h3>
<p>▸ <strong>filterOnlySystemPrompt</strong>(<code>conversation</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#message"><code>Message</code></a>[]&gt;</p>
<p>Only include the initial system prompt.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-18">Parameters<a href="#parameters-18" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversation"><code>Conversation</code></a>&lt;<a href="/chatbot/reference/server/modules#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-18">Returns<a href="#returns-18" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#message"><code>Message</code></a>[]&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-98">Defined in<a href="#defined-in-98" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="includechunksformaxtokenspossible">includeChunksForMaxTokensPossible<a href="#includechunksformaxtokenspossible" class="hash-link" aria-label="Direct link to includeChunksForMaxTokensPossible" title="Direct link to includeChunksForMaxTokensPossible">​</a></h3>
<p>▸ <strong>includeChunksForMaxTokensPossible</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]</p>
<p>This function returns the chunks that can fit in the maxTokens.
It limits the number of tokens that are sent to the LLM.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-19">Parameters<a href="#parameters-19" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>Object</code></td></tr><tr><td style="text-align:left">› <code>content</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]</td></tr><tr><td style="text-align:left">› <code>maxTokens</code></td><td style="text-align:left"><code>number</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-19">Returns<a href="#returns-19" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-99">Defined in<a href="#defined-in-99" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts#L202" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts:202</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ispageformat">isPageFormat<a href="#ispageformat" class="hash-link" aria-label="Direct link to isPageFormat" title="Direct link to isPageFormat">​</a></h3>
<p>▸ <strong>isPageFormat</strong>(<code>str</code>): str is &quot;txt&quot; | &quot;md&quot; | &quot;mdx&quot; | &quot;restructuredtext&quot; | &quot;csv&quot; | &quot;json&quot; | &quot;yaml&quot; | &quot;toml&quot; | &quot;xml&quot; | &quot;openapi-yaml&quot; | &quot;openapi-json&quot; | &quot;graphql&quot; | &quot;c&quot; | &quot;cpp&quot; | &quot;csharp&quot; | &quot;go&quot; | &quot;html&quot; | &quot;java&quot; | &quot;javascript&quot; | &quot;kotlin&quot; | &quot;latex&quot; | &quot;objective-c&quot; | &quot;php&quot; | &quot;python&quot; | &quot;ruby&quot; | &quot;rust&quot; | &quot;scala&quot; | &quot;shell&quot; | &quot;swift&quot; | &quot;typescript&quot;</p>
<p>Type guard to check if a string is a canonical page format.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-20">Parameters<a href="#parameters-20" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>str</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-20">Returns<a href="#returns-20" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p>str is &quot;txt&quot; | &quot;md&quot; | &quot;mdx&quot; | &quot;restructuredtext&quot; | &quot;csv&quot; | &quot;json&quot; | &quot;yaml&quot; | &quot;toml&quot; | &quot;xml&quot; | &quot;openapi-yaml&quot; | &quot;openapi-json&quot; | &quot;graphql&quot; | &quot;c&quot; | &quot;cpp&quot; | &quot;csharp&quot; | &quot;go&quot; | &quot;html&quot; | &quot;java&quot; | &quot;javascript&quot; | &quot;kotlin&quot; | &quot;latex&quot; | &quot;objective-c&quot; | &quot;php&quot; | &quot;python&quot; | &quot;ruby&quot; | &quot;rust&quot; | &quot;scala&quot; | &quot;shell&quot; | &quot;swift&quot; | &quot;typescript&quot;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-100">Defined in<a href="#defined-in-100" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/PageFormat.d.ts:19</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeapp">makeApp<a href="#makeapp" class="hash-link" aria-label="Direct link to makeApp" title="Direct link to makeApp">​</a></h3>
<p>▸ <strong>makeApp</strong>(<code>config</code>): <code>Promise</code>&lt;<code>Express</code>&gt;</p>
<p>Constructor function to make the Express.js app.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-21">Parameters<a href="#parameters-21" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>config</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/AppConfig"><code>AppConfig</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-21">Returns<a href="#returns-21" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<code>Express</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-101">Defined in<a href="#defined-in-101" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/app.ts#L115" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:115</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeboostonatlassearchfilter">makeBoostOnAtlasSearchFilter<a href="#makeboostonatlassearchfilter" class="hash-link" aria-label="Direct link to makeBoostOnAtlasSearchFilter" title="Direct link to makeBoostOnAtlasSearchFilter">​</a></h3>
<p>▸ <strong>makeBoostOnAtlasSearchFilter</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/interfaces/SearchBooster"><code>SearchBooster</code></a></p>
<p>Boost certain results in search results from Atlas Search.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-22">Parameters<a href="#parameters-22" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>MakeBoostOnAtlasSearchFilterArgs</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-22">Returns<a href="#returns-22" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/SearchBooster"><code>SearchBooster</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-102">Defined in<a href="#defined-in-102" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeBoostOnAtlasSearchFilter.ts#L37" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeBoostOnAtlasSearchFilter.ts:37</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeconversationsrouter">makeConversationsRouter<a href="#makeconversationsrouter" class="hash-link" aria-label="Direct link to makeConversationsRouter" title="Direct link to makeConversationsRouter">​</a></h3>
<p>▸ <strong>makeConversationsRouter</strong>(<code>«destructured»</code>): <code>Router</code></p>
<p>Constructor function to make the /conversations/* Express.js router.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-23">Parameters<a href="#parameters-23" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ConversationsRouterParams"><code>ConversationsRouterParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-23">Returns<a href="#returns-23" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Router</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-103">Defined in<a href="#defined-in-103" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L217" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:217</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedatastreamer">makeDataStreamer<a href="#makedatastreamer" class="hash-link" aria-label="Direct link to makeDataStreamer" title="Direct link to makeDataStreamer">​</a></h3>
<p>▸ <strong>makeDataStreamer</strong>(): <a href="/chatbot/reference/server/interfaces/DataStreamer"><code>DataStreamer</code></a></p>
<p>Create a <a href="/chatbot/reference/server/interfaces/DataStreamer">DataStreamer</a> that streams data to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-24">Returns<a href="#returns-24" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/DataStreamer"><code>DataStreamer</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-104">Defined in<a href="#defined-in-104" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/dataStreamer.ts#L116" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/dataStreamer.ts:116</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindcontent">makeDefaultFindContent<a href="#makedefaultfindcontent" class="hash-link" aria-label="Direct link to makeDefaultFindContent" title="Direct link to makeDefaultFindContent">​</a></h3>
<p>▸ <strong>makeDefaultFindContent</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#findcontentfunc"><code>FindContentFunc</code></a></p>
<p>Basic implementation of FindContentFunc with search boosters.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-24">Parameters<a href="#parameters-24" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#makedefaultfindcontentfuncargs"><code>MakeDefaultFindContentFuncArgs</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-25">Returns<a href="#returns-25" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#findcontentfunc"><code>FindContentFunc</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-105">Defined in<a href="#defined-in-105" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeDefaultFindContent.ts#L19" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeDefaultFindContent.ts:19</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindverifiedanswer">makeDefaultFindVerifiedAnswer<a href="#makedefaultfindverifiedanswer" class="hash-link" aria-label="Direct link to makeDefaultFindVerifiedAnswer" title="Direct link to makeDefaultFindVerifiedAnswer">​</a></h3>
<p>▸ <strong>makeDefaultFindVerifiedAnswer</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#findverifiedanswerfunc"><code>FindVerifiedAnswerFunc</code></a></p>
<p>Basic implementation of FindVerifiedAnswerFunc.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-25">Parameters<a href="#parameters-25" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#makedefaultfindverifiedanswerfuncargs"><code>MakeDefaultFindVerifiedAnswerFuncArgs</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-26">Returns<a href="#returns-26" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#findverifiedanswerfunc"><code>FindVerifiedAnswerFunc</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-106">Defined in<a href="#defined-in-106" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeDefaultFindVerifiedAnswer.ts#L17" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeDefaultFindVerifiedAnswer.ts:17</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultreferencelinks">makeDefaultReferenceLinks<a href="#makedefaultreferencelinks" class="hash-link" aria-label="Direct link to makeDefaultReferenceLinks" title="Direct link to makeDefaultReferenceLinks">​</a></h3>
<p>▸ <strong>makeDefaultReferenceLinks</strong>(<code>chunks</code>): { <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[]</p>
<p>The default reference format returns the following for chunks from <em>unique</em> pages:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pageTitle</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">??</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// if title doesn&#x27;t exist, just put url</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// this always exists</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-26">Parameters<a href="#parameters-26" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>chunks</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/EmbeddedContent"><code>EmbeddedContent</code></a>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-27">Returns<a href="#returns-27" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p>{ <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-107">Defined in<a href="#defined-in-107" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makefilternpreviousmessages">makeFilterNPreviousMessages<a href="#makefilternpreviousmessages" class="hash-link" aria-label="Direct link to makeFilterNPreviousMessages" title="Direct link to makeFilterNPreviousMessages">​</a></h3>
<p>▸ <strong>makeFilterNPreviousMessages</strong>(<code>n</code>): <a href="/chatbot/reference/server/modules#filterpreviousmessages"><code>FilterPreviousMessages</code></a></p>
<p>Creates a filter that only includes the previous n messages in the conversations.
The first message in the conversation <strong>must</strong> be the system prompt.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-27">Parameters<a href="#parameters-27" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>n</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">Number of previous messages to include.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-28">Returns<a href="#returns-28" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#filterpreviousmessages"><code>FilterPreviousMessages</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-108">Defined in<a href="#defined-in-108" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeFilterNPreviousMessages.ts#L8" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeFilterNPreviousMessages.ts:8</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makehandletimeoutmiddleware">makeHandleTimeoutMiddleware<a href="#makehandletimeoutmiddleware" class="hash-link" aria-label="Direct link to makeHandleTimeoutMiddleware" title="Direct link to makeHandleTimeoutMiddleware">​</a></h3>
<p>▸ <strong>makeHandleTimeoutMiddleware</strong>(<code>apiTimeout</code>): (<code>req</code>: <code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;, <code>res</code>: <code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;, <code>next</code>: <code>NextFunction</code>) =&gt; <code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-28">Parameters<a href="#parameters-28" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>apiTimeout</code></td><td style="text-align:left"><code>number</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-29">Returns<a href="#returns-29" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>fn</code></p>
<p>▸ (<code>req</code>, <code>res</code>, <code>next</code>): <code>void</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-29">Parameters<a href="#parameters-29" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>req</code></td><td style="text-align:left"><code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>res</code></td><td style="text-align:left"><code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>next</code></td><td style="text-align:left"><code>NextFunction</code></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-30">Returns<a href="#returns-30" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-109">Defined in<a href="#defined-in-109" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/app.ts#L93" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:93</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainembedder">makeLangChainEmbedder<a href="#makelangchainembedder" class="hash-link" aria-label="Direct link to makeLangChainEmbedder" title="Direct link to makeLangChainEmbedder">​</a></h3>
<p>▸ <strong>makeLangChainEmbedder</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#embedder"><code>Embedder</code></a></p>
<p>Constructor for implementation of the <a href="/chatbot/reference/server/modules#embedder">Embedder</a> using a LangChain.js <a href="https://js.langchain.com/docs/modules/data_connection/text_embedding/" target="_blank" rel="noopener noreferrer"><code>Embeddings</code></a> class.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-30">Parameters<a href="#parameters-30" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#makelangchainembedderparams"><code>MakeLangChainEmbedderParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-31">Returns<a href="#returns-31" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#embedder"><code>Embedder</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-110">Defined in<a href="#defined-in-110" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/LangChainEmbedder.d.ts:13</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainchatllm">makeLangchainChatLlm<a href="#makelangchainchatllm" class="hash-link" aria-label="Direct link to makeLangchainChatLlm" title="Direct link to makeLangchainChatLlm">​</a></h3>
<p>▸ <strong>makeLangchainChatLlm</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/interfaces/ChatLlm"><code>ChatLlm</code></a></p>
<p>Use any Langchain JS <a href="https://js.langchain.com/docs/modules/model_io/chat/" target="_blank" rel="noopener noreferrer"><code>ChatModel</code></a>
to talk to an LLM.</p>
<p>Note: This ChatLLM does not currently support tool calling.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-31">Parameters<a href="#parameters-31" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeLangchainChatLlmProps"><code>MakeLangchainChatLlmProps</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-32">Returns<a href="#returns-32" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/ChatLlm"><code>ChatLlm</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-111">Defined in<a href="#defined-in-111" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/LangchainChatLlm.ts#L23" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/LangchainChatLlm.ts:23</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbconversationsservice">makeMongoDbConversationsService<a href="#makemongodbconversationsservice" class="hash-link" aria-label="Direct link to makeMongoDbConversationsService" title="Direct link to makeMongoDbConversationsService">​</a></h3>
<p>▸ <strong>makeMongoDbConversationsService</strong>(<code>database</code>, <code>conversationConstants?</code>): <a href="/chatbot/reference/server/interfaces/ConversationsService"><code>ConversationsService</code></a></p>
<p>Create <a href="/chatbot/reference/server/interfaces/ConversationsService">ConversationsService</a> that uses MongoDB as a data store.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-32">Parameters<a href="#parameters-32" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Default value</th></tr></thead><tbody><tr><td style="text-align:left"><code>database</code></td><td style="text-align:left"><code>Db</code></td><td style="text-align:left"><code>undefined</code></td></tr><tr><td style="text-align:left"><code>conversationConstants</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ConversationConstants"><code>ConversationConstants</code></a></td><td style="text-align:left"><code>defaultConversationConstants</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-33">Returns<a href="#returns-33" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/ConversationsService"><code>ConversationsService</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-112">Defined in<a href="#defined-in-112" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/mongodbConversations.ts#L25" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/mongodbConversations.ts:25</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbembeddedcontentstore">makeMongoDbEmbeddedContentStore<a href="#makemongodbembeddedcontentstore" class="hash-link" aria-label="Direct link to makeMongoDbEmbeddedContentStore" title="Direct link to makeMongoDbEmbeddedContentStore">​</a></h3>
<p>▸ <strong>makeMongoDbEmbeddedContentStore</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#embeddedcontentstore"><code>EmbeddedContentStore</code></a> &amp; <a href="/chatbot/reference/server/modules#databaseconnection"><code>DatabaseConnection</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-33">Parameters<a href="#parameters-33" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>MakeMongoDbDatabaseConnectionParams</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-34">Returns<a href="#returns-34" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#embeddedcontentstore"><code>EmbeddedContentStore</code></a> &amp; <a href="/chatbot/reference/server/modules#databaseconnection"><code>DatabaseConnection</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-113">Defined in<a href="#defined-in-113" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/MongoDbEmbeddedContentStore.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbpagestore">makeMongoDbPageStore<a href="#makemongodbpagestore" class="hash-link" aria-label="Direct link to makeMongoDbPageStore" title="Direct link to makeMongoDbPageStore">​</a></h3>
<p>▸ <strong>makeMongoDbPageStore</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#mongodbpagestore"><code>MongoDbPageStore</code></a></p>
<p>Data store for <a href="/chatbot/reference/server/modules#page">Page</a> objects using MongoDB.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-34">Parameters<a href="#parameters-34" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>MakeMongoDbDatabaseConnectionParams</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-35">Returns<a href="#returns-35" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#mongodbpagestore"><code>MongoDbPageStore</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-114">Defined in<a href="#defined-in-114" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/MongoDbPageStore.d.ts:12</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbverifiedanswerstore">makeMongoDbVerifiedAnswerStore<a href="#makemongodbverifiedanswerstore" class="hash-link" aria-label="Direct link to makeMongoDbVerifiedAnswerStore" title="Direct link to makeMongoDbVerifiedAnswerStore">​</a></h3>
<p>▸ <strong>makeMongoDbVerifiedAnswerStore</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#verifiedanswerstore"><code>VerifiedAnswerStore</code></a> &amp; <a href="/chatbot/reference/server/modules#databaseconnection"><code>DatabaseConnection</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-35">Parameters<a href="#parameters-35" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>MakeMongoDbDatabaseConnectionParams</code> &amp; { <code>collectionName</code>: <code>string</code>  }</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-36">Returns<a href="#returns-36" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#verifiedanswerstore"><code>VerifiedAnswerStore</code></a> &amp; <a href="/chatbot/reference/server/modules#databaseconnection"><code>DatabaseConnection</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-115">Defined in<a href="#defined-in-115" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/MongoDbVerifiedAnswerStore.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaichatllm">makeOpenAiChatLlm<a href="#makeopenaichatllm" class="hash-link" aria-label="Direct link to makeOpenAiChatLlm" title="Direct link to makeOpenAiChatLlm">​</a></h3>
<p>▸ <strong>makeOpenAiChatLlm</strong>(<code>«destructured»</code>): <code>Required</code>&lt;<a href="/chatbot/reference/server/interfaces/ChatLlm"><code>ChatLlm</code></a>&gt;</p>
<p>Construct the <a href="/chatbot/reference/server/interfaces/ChatLlm">ChatLlm</a> service using the <a href="https://learn.microsoft.com/en-us/azure/ai-services/openai/chatgpt-quickstart?tabs=command-line&amp;pivots=programming-language-studio" target="_blank" rel="noopener noreferrer">OpenAI ChatGPT API</a>.
The <code>ChatLlm</code> wraps the <a href="https://www.npmjs.com/package/@azure/openai" target="_blank" rel="noopener noreferrer">@azure/openai</a> package.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-36">Parameters<a href="#parameters-36" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeOpenAiChatLlmParams"><code>MakeOpenAiChatLlmParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-37">Returns<a href="#returns-37" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Required</code>&lt;<a href="/chatbot/reference/server/interfaces/ChatLlm"><code>ChatLlm</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-116">Defined in<a href="#defined-in-116" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/services/openAiChatLlm.ts#L31" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/services/openAiChatLlm.ts:31</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaiembedder">makeOpenAiEmbedder<a href="#makeopenaiembedder" class="hash-link" aria-label="Direct link to makeOpenAiEmbedder" title="Direct link to makeOpenAiEmbedder">​</a></h3>
<p>▸ <strong>makeOpenAiEmbedder</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#embedder"><code>Embedder</code></a></p>
<p>Constructor for implementation of the <a href="/chatbot/reference/server/modules#embedder">Embedder</a> using <a href="https://platform.openai.com/docs/guides/embeddings" target="_blank" rel="noopener noreferrer">OpenAI
Embeddings API</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-37">Parameters<a href="#parameters-37" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#makeopenaiembedderargs"><code>MakeOpenAiEmbedderArgs</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-38">Returns<a href="#returns-38" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#embedder"><code>Embedder</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-117">Defined in<a href="#defined-in-117" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/OpenAiEmbedder.d.ts:22</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeraggenerateuserprompt">makeRagGenerateUserPrompt<a href="#makeraggenerateuserprompt" class="hash-link" aria-label="Direct link to makeRagGenerateUserPrompt" title="Direct link to makeRagGenerateUserPrompt">​</a></h3>
<p>▸ <strong>makeRagGenerateUserPrompt</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<p>Construct a <a href="/chatbot/reference/server/modules#generateuserpromptfunc">GenerateUserPromptFunc</a> function
that uses retrieval augmented generation (RAG) to generate the user prompt
and return references to use in the answer.
The returned RAG user prompt generator performs the following steps:</p>
<ol>
<li>Preprocess the user&#x27;s message using the query preprocessor.</li>
<li>Find content using vector search.</li>
<li>Removes any chunks that would exceed the max context tokens.</li>
<li>Generate the user message using the make user message function.</li>
<li>Return the user message and references.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-38">Parameters<a href="#parameters-38" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeRagGenerateUserPromptParams"><code>MakeRagGenerateUserPromptParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-39">Returns<a href="#returns-39" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-118">Defined in<a href="#defined-in-118" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts#L64" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts:64</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makestaticsite">makeStaticSite<a href="#makestaticsite" class="hash-link" aria-label="Direct link to makeStaticSite" title="Direct link to makeStaticSite">​</a></h3>
<p>▸ <strong>makeStaticSite</strong>(<code>app</code>): <code>Express</code></p>
<p>Middleware that serves the static site from the root path
(<code>GET https://my-site.com/</code>).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-39">Parameters<a href="#parameters-39" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>app</code></td><td style="text-align:left"><code>Express</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-40">Returns<a href="#returns-40" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Express</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-119">Defined in<a href="#defined-in-119" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/routes/staticSite.ts#L8" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/staticSite.ts:8</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maketypechatjsontranslatefunc">makeTypeChatJsonTranslateFunc<a href="#maketypechatjsontranslatefunc" class="hash-link" aria-label="Direct link to makeTypeChatJsonTranslateFunc" title="Direct link to makeTypeChatJsonTranslateFunc">​</a></h3>
<p>▸ <strong>makeTypeChatJsonTranslateFunc</strong>&lt;<code>SchemaType</code>&gt;(<code>«destructured»</code>): (<code>prompt</code>: <code>string</code>) =&gt; <code>Promise</code>&lt;<code>SchemaType</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-9">Type parameters<a href="#type-parameters-9" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>SchemaType</code></td><td style="text-align:left">extends <code>object</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-40">Parameters<a href="#parameters-40" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#maketypechatjsontranslatefuncargs"><code>MakeTypeChatJsonTranslateFuncArgs</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-41">Returns<a href="#returns-41" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>fn</code></p>
<p>▸ (<code>prompt</code>): <code>Promise</code>&lt;<code>SchemaType</code>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-41">Parameters<a href="#parameters-41" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>prompt</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-42">Returns<a href="#returns-42" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<code>SchemaType</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-120">Defined in<a href="#defined-in-120" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/TypeChatJsonTranslateFunc.d.ts:29</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeverifiedanswergenerateuserprompt">makeVerifiedAnswerGenerateUserPrompt<a href="#makeverifiedanswergenerateuserprompt" class="hash-link" aria-label="Direct link to makeVerifiedAnswerGenerateUserPrompt" title="Direct link to makeVerifiedAnswerGenerateUserPrompt">​</a></h3>
<p>▸ <strong>makeVerifiedAnswerGenerateUserPrompt</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<p>Constructs a GenerateUserPromptFunc that searches for verified answers for the
user query. If no verified answer can be found for the given query, the
onNoVerifiedAnswerFound GenerateUserPromptFunc is called instead.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-42">Parameters<a href="#parameters-42" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeVerifiedAnswerGenerateUserPromptParams"><code>MakeVerifiedAnswerGenerateUserPromptParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-43">Returns<a href="#returns-43" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-121">Defined in<a href="#defined-in-121" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/processors/makeVerifiedAnswerGenerateUserPrompt.ts#L21" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeVerifiedAnswerGenerateUserPrompt.ts:21</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformat-1">pageFormat<a href="#pageformat-1" class="hash-link" aria-label="Direct link to pageFormat" title="Direct link to pageFormat">​</a></h3>
<p>▸ <strong>pageFormat</strong>(<code>str</code>, <code>defaultPageFormat?</code>): <a href="/chatbot/reference/server/modules#pageformat"><code>PageFormat</code></a></p>
<p>Converts a string to a canonical page format. If the string is not a
recognized page format or a synonym for one, this returns a default
page format.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-43">Parameters<a href="#parameters-43" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>str</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>defaultPageFormat?</code></td><td style="text-align:left"><code>&quot;txt&quot;</code> | <code>&quot;md&quot;</code> | <code>&quot;mdx&quot;</code> | <code>&quot;restructuredtext&quot;</code> | <code>&quot;csv&quot;</code> | <code>&quot;json&quot;</code> | <code>&quot;yaml&quot;</code> | <code>&quot;toml&quot;</code> | <code>&quot;xml&quot;</code> | <code>&quot;openapi-yaml&quot;</code> | <code>&quot;openapi-json&quot;</code> | <code>&quot;graphql&quot;</code> | <code>&quot;c&quot;</code> | <code>&quot;cpp&quot;</code> | <code>&quot;csharp&quot;</code> | <code>&quot;go&quot;</code> | <code>&quot;html&quot;</code> | <code>&quot;java&quot;</code> | <code>&quot;javascript&quot;</code> | <code>&quot;kotlin&quot;</code> | <code>&quot;latex&quot;</code> | <code>&quot;objective-c&quot;</code> | <code>&quot;php&quot;</code> | <code>&quot;python&quot;</code> | <code>&quot;ruby&quot;</code> | <code>&quot;rust&quot;</code> | <code>&quot;scala&quot;</code> | <code>&quot;shell&quot;</code> | <code>&quot;swift&quot;</code> | <code>&quot;typescript&quot;</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-44">Returns<a href="#returns-44" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#pageformat"><code>PageFormat</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-122">Defined in<a href="#defined-in-122" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/PageFormat.d.ts:25</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removefrontmatter">removeFrontMatter<a href="#removefrontmatter" class="hash-link" aria-label="Direct link to removeFrontMatter" title="Direct link to removeFrontMatter">​</a></h3>
<p>▸ <strong>removeFrontMatter</strong>(<code>content</code>, <code>options?</code>): <code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-44">Parameters<a href="#parameters-44" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>content</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>options?</code></td><td style="text-align:left"><code>FrontMatterOptions</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-45">Returns<a href="#returns-45" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-123">Defined in<a href="#defined-in-123" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/removeFrontMatter.d.ts:2</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reqhandler">reqHandler<a href="#reqhandler" class="hash-link" aria-label="Direct link to reqHandler" title="Direct link to reqHandler">​</a></h3>
<p>▸ <strong>reqHandler</strong>(<code>req</code>, <code>res</code>, <code>next</code>): <code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-45">Parameters<a href="#parameters-45" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>req</code></td><td style="text-align:left"><code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>res</code></td><td style="text-align:left"><code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;, <code>number</code>&gt;</td></tr><tr><td style="text-align:left"><code>next</code></td><td style="text-align:left"><code>NextFunction</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-46">Returns<a href="#returns-46" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-124">Defined in<a href="#defined-in-124" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>node_modules/@types/express-serve-static-core/index.d.ts:60</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirerequestorigin">requireRequestOrigin<a href="#requirerequestorigin" class="hash-link" aria-label="Direct link to requireRequestOrigin" title="Direct link to requireRequestOrigin">​</a></h3>
<p>▸ <strong>requireRequestOrigin</strong>(): <a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-47">Returns<a href="#returns-47" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-125">Defined in<a href="#defined-in-125" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirevalidipaddress">requireValidIpAddress<a href="#requirevalidipaddress" class="hash-link" aria-label="Direct link to requireValidIpAddress" title="Direct link to requireValidIpAddress">​</a></h3>
<p>▸ <strong>requireValidIpAddress</strong>(): <a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-48">Returns<a href="#returns-48" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-126">Defined in<a href="#defined-in-126" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodben/chatbot/blob/1b3e54e/packages/mongodb-chatbot-server/src/middleware/requireValidIpAddress.ts#L5" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/requireValidIpAddress.ts:5</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updatefrontmatter">updateFrontMatter<a href="#updatefrontmatter" class="hash-link" aria-label="Direct link to updateFrontMatter" title="Direct link to updateFrontMatter">​</a></h3>
<p>▸ <strong>updateFrontMatter</strong>(<code>text</code>, <code>metadataIn</code>): <code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-46">Parameters<a href="#parameters-46" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>text</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>metadataIn</code></td><td style="text-align:left"><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-49">Returns<a href="#returns-49" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-127">Defined in<a href="#defined-in-127" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/updateFrontMatter.d.ts:1</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/chatbot/reference/server/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Readme</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/chatbot/reference/server/interfaces/AppConfig"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AppConfig</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#interfaces" class="table-of-contents__link toc-highlight">Interfaces</a></li><li><a href="#type-aliases" class="table-of-contents__link toc-highlight">Type Aliases</a><ul><li><a href="#addassistantmessageparams" class="table-of-contents__link toc-highlight">AddAssistantMessageParams</a></li><li><a href="#addconversationmessageparams" class="table-of-contents__link toc-highlight">AddConversationMessageParams</a></li><li><a href="#addcustomdatafunc" class="table-of-contents__link toc-highlight">AddCustomDataFunc</a></li><li><a href="#addfunctionmessageparams" class="table-of-contents__link toc-highlight">AddFunctionMessageParams</a></li><li><a href="#addmanyconversationmessagesparams" class="table-of-contents__link toc-highlight">AddManyConversationMessagesParams</a></li><li><a href="#addsomemessageparams" class="table-of-contents__link toc-highlight">AddSomeMessageParams</a></li><li><a href="#addsystemmessageparams" class="table-of-contents__link toc-highlight">AddSystemMessageParams</a></li><li><a href="#addusermessageparams" class="table-of-contents__link toc-highlight">AddUserMessageParams</a></li><li><a href="#assistantmessage" class="table-of-contents__link toc-highlight">AssistantMessage</a></li><li><a href="#assistantmessagemetadata" class="table-of-contents__link toc-highlight">AssistantMessageMetadata</a></li><li><a href="#conversationcustomdata" class="table-of-contents__link toc-highlight">ConversationCustomData</a></li><li><a href="#conversationsmiddleware" class="table-of-contents__link toc-highlight">ConversationsMiddleware</a></li><li><a href="#conversationsrouterresponse" class="table-of-contents__link toc-highlight">ConversationsRouterResponse</a></li><li><a href="#createconversationparams" class="table-of-contents__link toc-highlight">CreateConversationParams</a></li><li><a href="#databaseconnection" class="table-of-contents__link toc-highlight">DatabaseConnection</a></li><li><a href="#deltastreamevent" class="table-of-contents__link toc-highlight">DeltaStreamEvent</a></li><li><a href="#embedargs" class="table-of-contents__link toc-highlight">EmbedArgs</a></li><li><a href="#embedresult" class="table-of-contents__link toc-highlight">EmbedResult</a></li><li><a href="#embeddedcontentstore" class="table-of-contents__link toc-highlight">EmbeddedContentStore</a></li><li><a href="#embedder" class="table-of-contents__link toc-highlight">Embedder</a></li><li><a href="#filterpreviousmessages" class="table-of-contents__link toc-highlight">FilterPreviousMessages</a></li><li><a href="#findcontentfunc" class="table-of-contents__link toc-highlight">FindContentFunc</a></li><li><a href="#findcontentfuncargs" class="table-of-contents__link toc-highlight">FindContentFuncArgs</a></li><li><a href="#findcontentresult" class="table-of-contents__link toc-highlight">FindContentResult</a></li><li><a href="#findnearestneighborsoptions" class="table-of-contents__link toc-highlight">FindNearestNeighborsOptions</a></li><li><a href="#findverifiedanswerfunc" class="table-of-contents__link toc-highlight">FindVerifiedAnswerFunc</a></li><li><a href="#findverifiedanswerfuncargs" class="table-of-contents__link toc-highlight">FindVerifiedAnswerFuncArgs</a></li><li><a href="#findverifiedanswerresult" class="table-of-contents__link toc-highlight">FindVerifiedAnswerResult</a></li><li><a href="#finishedstreamevent" class="table-of-contents__link toc-highlight">FinishedStreamEvent</a></li><li><a href="#functionmessage" class="table-of-contents__link toc-highlight">FunctionMessage</a></li><li><a href="#generateuserpromptfunc" class="table-of-contents__link toc-highlight">GenerateUserPromptFunc</a></li><li><a href="#generateuserpromptfuncparams" class="table-of-contents__link toc-highlight">GenerateUserPromptFuncParams</a></li><li><a href="#loadpagesargs" class="table-of-contents__link toc-highlight">LoadPagesArgs</a></li><li><a href="#makedefaultfindcontentfuncargs" class="table-of-contents__link toc-highlight">MakeDefaultFindContentFuncArgs</a></li><li><a href="#makedefaultfindverifiedanswerfuncargs" class="table-of-contents__link toc-highlight">MakeDefaultFindVerifiedAnswerFuncArgs</a></li><li><a href="#makelangchainembedderparams" class="table-of-contents__link toc-highlight">MakeLangChainEmbedderParams</a></li><li><a href="#makeopenaiembedderargs" class="table-of-contents__link toc-highlight">MakeOpenAiEmbedderArgs</a></li><li><a href="#makereferencelinksfunc" class="table-of-contents__link toc-highlight">MakeReferenceLinksFunc</a></li><li><a href="#maketypechatjsontranslatefuncargs" class="table-of-contents__link toc-highlight">MakeTypeChatJsonTranslateFuncArgs</a></li><li><a href="#makeusermessagefunc" class="table-of-contents__link toc-highlight">MakeUserMessageFunc</a></li><li><a href="#message" class="table-of-contents__link toc-highlight">Message</a></li><li><a href="#messagebase" class="table-of-contents__link toc-highlight">MessageBase</a></li><li><a href="#metadatastreamevent" class="table-of-contents__link toc-highlight">MetadataStreamEvent</a></li><li><a href="#mongodbpagestore" class="table-of-contents__link toc-highlight">MongoDbPageStore</a></li><li><a href="#openaichatcompletionwithoutusage" class="table-of-contents__link toc-highlight">OpenAIChatCompletionWithoutUsage</a></li><li><a href="#openaiawaitedresponse" class="table-of-contents__link toc-highlight">OpenAiAwaitedResponse</a></li><li><a href="#openaichatmessage" class="table-of-contents__link toc-highlight">OpenAiChatMessage</a></li><li><a href="#openaimessagerole" class="table-of-contents__link toc-highlight">OpenAiMessageRole</a></li><li><a href="#openaistreamingresponse" class="table-of-contents__link toc-highlight">OpenAiStreamingResponse</a></li><li><a href="#page" class="table-of-contents__link toc-highlight">Page</a></li><li><a href="#pageaction" class="table-of-contents__link toc-highlight">PageAction</a></li><li><a href="#pageformat" class="table-of-contents__link toc-highlight">PageFormat</a></li><li><a href="#pagemetadata" class="table-of-contents__link toc-highlight">PageMetadata</a></li><li><a href="#pagestore" class="table-of-contents__link toc-highlight">PageStore</a></li><li><a href="#persistedpage" class="table-of-contents__link toc-highlight">PersistedPage</a></li><li><a href="#processingstreamevent" class="table-of-contents__link toc-highlight">ProcessingStreamEvent</a></li><li><a href="#querypreprocessorfunc" class="table-of-contents__link toc-highlight">QueryPreprocessorFunc</a></li><li><a href="#querypreprocessorresult" class="table-of-contents__link toc-highlight">QueryPreprocessorResult</a></li><li><a href="#queryprocessorfuncparams" class="table-of-contents__link toc-highlight">QueryProcessorFuncParams</a></li><li><a href="#question" class="table-of-contents__link toc-highlight">Question</a></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#referencesstreamevent" class="table-of-contents__link toc-highlight">ReferencesStreamEvent</a></li><li><a href="#somemessage" class="table-of-contents__link toc-highlight">SomeMessage</a></li><li><a href="#somestreamevent" class="table-of-contents__link toc-highlight">SomeStreamEvent</a></li><li><a href="#systemmessage" class="table-of-contents__link toc-highlight">SystemMessage</a></li><li><a href="#systemprompt" class="table-of-contents__link toc-highlight">SystemPrompt</a></li><li><a href="#toolcalldirective" class="table-of-contents__link toc-highlight">ToolCallDirective</a></li><li><a href="#usermessage" class="table-of-contents__link toc-highlight">UserMessage</a></li><li><a href="#vectorstore" class="table-of-contents__link toc-highlight">VectorStore</a></li><li><a href="#verifiedanswer" class="table-of-contents__link toc-highlight">VerifiedAnswer</a></li><li><a href="#verifiedanswereventdata" class="table-of-contents__link toc-highlight">VerifiedAnswerEventData</a></li><li><a href="#verifiedanswerstore" class="table-of-contents__link toc-highlight">VerifiedAnswerStore</a></li><li><a href="#withfilterandk" class="table-of-contents__link toc-highlight">WithFilterAndK</a></li><li><a href="#withscore" class="table-of-contents__link toc-highlight">WithScore</a></li></ul></li><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a><ul><li><a href="#core_env_vars" class="table-of-contents__link toc-highlight">CORE_ENV_VARS</a></li><li><a href="#custom_request_origin_header" class="table-of-contents__link toc-highlight">CUSTOM_REQUEST_ORIGIN_HEADER</a></li><li><a href="#default_api_prefix" class="table-of-contents__link toc-highlight">DEFAULT_API_PREFIX</a></li><li><a href="#default_max_request_timeout_ms" class="table-of-contents__link toc-highlight">DEFAULT_MAX_REQUEST_TIMEOUT_MS</a></li><li><a href="#question-1" class="table-of-contents__link toc-highlight">Question</a></li><li><a href="#reference-1" class="table-of-contents__link toc-highlight">Reference</a></li><li><a href="#references-1" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#someexpressrequest" class="table-of-contents__link toc-highlight">SomeExpressRequest</a></li><li><a href="#verifiedanswer-1" class="table-of-contents__link toc-highlight">VerifiedAnswer</a></li><li><a href="#defaultconversationconstants" class="table-of-contents__link toc-highlight">defaultConversationConstants</a></li><li><a href="#logger" class="table-of-contents__link toc-highlight">logger</a></li><li><a href="#pageformats" class="table-of-contents__link toc-highlight">pageFormats</a></li><li><a href="#ratelimitresponse" class="table-of-contents__link toc-highlight">rateLimitResponse</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#aspageformat" class="table-of-contents__link toc-highlight">asPageFormat</a></li><li><a href="#assertenvvars" class="table-of-contents__link toc-highlight">assertEnvVars</a></li><li><a href="#createloggermessage" class="table-of-contents__link toc-highlight">createLoggerMessage</a></li><li><a href="#createmessage" class="table-of-contents__link toc-highlight">createMessage</a></li><li><a href="#createmessagefromopenaichatmessage" class="table-of-contents__link toc-highlight">createMessageFromOpenAIChatMessage</a></li><li><a href="#errorhandler" class="table-of-contents__link toc-highlight">errorHandler</a></li><li><a href="#escapenewlines" class="table-of-contents__link toc-highlight">escapeNewlines</a></li><li><a href="#extractfrontmatter" class="table-of-contents__link toc-highlight">extractFrontMatter</a></li><li><a href="#filterdefined" class="table-of-contents__link toc-highlight">filterDefined</a></li><li><a href="#filterfulfilled" class="table-of-contents__link toc-highlight">filterFulfilled</a></li><li><a href="#filteronlysystemprompt" class="table-of-contents__link toc-highlight">filterOnlySystemPrompt</a></li><li><a href="#includechunksformaxtokenspossible" class="table-of-contents__link toc-highlight">includeChunksForMaxTokensPossible</a></li><li><a href="#ispageformat" class="table-of-contents__link toc-highlight">isPageFormat</a></li><li><a href="#makeapp" class="table-of-contents__link toc-highlight">makeApp</a></li><li><a href="#makeboostonatlassearchfilter" class="table-of-contents__link toc-highlight">makeBoostOnAtlasSearchFilter</a></li><li><a href="#makeconversationsrouter" class="table-of-contents__link toc-highlight">makeConversationsRouter</a></li><li><a href="#makedatastreamer" class="table-of-contents__link toc-highlight">makeDataStreamer</a></li><li><a href="#makedefaultfindcontent" class="table-of-contents__link toc-highlight">makeDefaultFindContent</a></li><li><a href="#makedefaultfindverifiedanswer" class="table-of-contents__link toc-highlight">makeDefaultFindVerifiedAnswer</a></li><li><a href="#makedefaultreferencelinks" class="table-of-contents__link toc-highlight">makeDefaultReferenceLinks</a></li><li><a href="#makefilternpreviousmessages" class="table-of-contents__link toc-highlight">makeFilterNPreviousMessages</a></li><li><a href="#makehandletimeoutmiddleware" class="table-of-contents__link toc-highlight">makeHandleTimeoutMiddleware</a></li><li><a href="#makelangchainembedder" class="table-of-contents__link toc-highlight">makeLangChainEmbedder</a></li><li><a href="#makelangchainchatllm" class="table-of-contents__link toc-highlight">makeLangchainChatLlm</a></li><li><a href="#makemongodbconversationsservice" class="table-of-contents__link toc-highlight">makeMongoDbConversationsService</a></li><li><a href="#makemongodbembeddedcontentstore" class="table-of-contents__link toc-highlight">makeMongoDbEmbeddedContentStore</a></li><li><a href="#makemongodbpagestore" class="table-of-contents__link toc-highlight">makeMongoDbPageStore</a></li><li><a href="#makemongodbverifiedanswerstore" class="table-of-contents__link toc-highlight">makeMongoDbVerifiedAnswerStore</a></li><li><a href="#makeopenaichatllm" class="table-of-contents__link toc-highlight">makeOpenAiChatLlm</a></li><li><a href="#makeopenaiembedder" class="table-of-contents__link toc-highlight">makeOpenAiEmbedder</a></li><li><a href="#makeraggenerateuserprompt" class="table-of-contents__link toc-highlight">makeRagGenerateUserPrompt</a></li><li><a href="#makestaticsite" class="table-of-contents__link toc-highlight">makeStaticSite</a></li><li><a href="#maketypechatjsontranslatefunc" class="table-of-contents__link toc-highlight">makeTypeChatJsonTranslateFunc</a></li><li><a href="#makeverifiedanswergenerateuserprompt" class="table-of-contents__link toc-highlight">makeVerifiedAnswerGenerateUserPrompt</a></li><li><a href="#pageformat-1" class="table-of-contents__link toc-highlight">pageFormat</a></li><li><a href="#removefrontmatter" class="table-of-contents__link toc-highlight">removeFrontMatter</a></li><li><a href="#reqhandler" class="table-of-contents__link toc-highlight">reqHandler</a></li><li><a href="#requirerequestorigin" class="table-of-contents__link toc-highlight">requireRequestOrigin</a></li><li><a href="#requirevalidipaddress" class="table-of-contents__link toc-highlight">requireValidIpAddress</a></li><li><a href="#updatefrontmatter" class="table-of-contents__link toc-highlight">updateFrontMatter</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/chatbot/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/chatbot/quick-start">Quick Start</a></li><li class="footer__item"><a href="https://github.com/mongodb/chatbot" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div></div></footer></div>
</body>
</html>